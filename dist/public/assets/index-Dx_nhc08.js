var fi=s=>{throw TypeError(s)};var nr=(s,e,t)=>e.has(s)||fi("Cannot "+t);var g=(s,e,t)=>(nr(s,e,"read from private field"),t?t.call(s):e.get(s)),L=(s,e,t)=>e.has(s)?fi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),j=(s,e,t,r)=>(nr(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),V=(s,e,t)=>(nr(s,e,"access private method"),t);var Ns=(s,e,t,r)=>({set _(i){j(s,e,i,t)},get _(){return g(s,e,r)}});import{j as l,c as Vr,a as sl,u as He,B as rl,P as Ie,b as il,d as ls,e as se,f as Oe,V as gn,R as nl,g as ol,h as pn,i as al,k as vn,D as ll,C as cl,l as dl,A as ul,m as hl,S as fl,n as ml,o as gl,p as yn,q as bn,r as pl,s as xn,I as wn,t as Cn,v as Sn,w as Tn,L as _n,x as In,y as vl,T as yl,O as En,z as bl,E as kn,F as xl,G as jn,H as Rn,J as wl,K as Pn,M as Nn,N as On,Q as An,U as Cl,W as Ln,X as Sl,Y as Dn,Z as Mn,_ as zn,$ as Fn,a0 as $n,a1 as Tl}from"./radix-ui-DXrnDmB2.js";import{a as Bn,r as h,c as _l}from"./react-vendor-BbBoHzlf.js";import{X as Hn,M as Il,S as El,C as Gn,a as kl,b as jl,E as Vn,c as Rl,d as Pl,P as Nl,T as gr,e as Ls,f as Ol,g as mi,h as Al,i as Ll}from"./icons-BVpffbpZ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();var Zn,gi=Bn;Zn=gi.createRoot,gi.hydrateRoot;function Dl(s,e){if(s instanceof RegExp)return{keys:!1,pattern:s};var t,r,i,n,o=[],a="",c=s.split("/");for(c[0]||c.shift();i=c.shift();)t=i[0],t==="*"?(o.push(t),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),n=i.indexOf(".",1),o.push(i.substring(1,~r?r:~n?n:i.length)),a+=~r&&!~n?"(?:/([^/]+?))?":"/([^/]+?)",~n&&(a+=(~r?"?":"")+"\\"+i.substring(n))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Un={exports:{}},Wn={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=h;function Ml(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var zl=typeof Object.is=="function"?Object.is:Ml,Fl=ts.useState,$l=ts.useEffect,Bl=ts.useLayoutEffect,Hl=ts.useDebugValue;function Gl(s,e){var t=e(),r=Fl({inst:{value:t,getSnapshot:e}}),i=r[0].inst,n=r[1];return Bl(function(){i.value=t,i.getSnapshot=e,or(i)&&n({inst:i})},[s,t,e]),$l(function(){return or(i)&&n({inst:i}),s(function(){or(i)&&n({inst:i})})},[s]),Hl(t),t}function or(s){var e=s.getSnapshot;s=s.value;try{var t=e();return!zl(s,t)}catch{return!0}}function Vl(s,e){return e()}var Zl=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vl:Gl;Wn.useSyncExternalStore=ts.useSyncExternalStore!==void 0?ts.useSyncExternalStore:Zl;Un.exports=Wn;var Ul=Un.exports;const Wl=_l.useInsertionEffect,Xl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ql=Xl?h.useLayoutEffect:h.useEffect,Yl=Wl||ql,Xn=s=>{const e=h.useRef([s,(...t)=>e[0](...t)]).current;return Yl(()=>{e[0]=s}),e[1]},Ql="popstate",Zr="pushState",Ur="replaceState",Kl="hashchange",pi=[Ql,Zr,Ur,Kl],Jl=s=>{for(const e of pi)addEventListener(e,s);return()=>{for(const e of pi)removeEventListener(e,s)}},qn=(s,e)=>Ul.useSyncExternalStore(Jl,s,e),ec=()=>location.search,tc=({ssrSearch:s=""}={})=>qn(ec,()=>s),vi=()=>location.pathname,sc=({ssrPath:s}={})=>qn(vi,s?()=>s:vi),rc=(s,{replace:e=!1,state:t=null}={})=>history[e?Ur:Zr](t,"",s),ic=(s={})=>[sc(s),rc],yi=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[yi]>"u"){for(const s of[Zr,Ur]){const e=history[s];history[s]=function(){const t=e.apply(this,arguments),r=new Event(s);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,yi,{value:!0})}const nc=(s,e)=>e.toLowerCase().indexOf(s.toLowerCase())?"~"+e:e.slice(s.length)||"/",Yn=(s="")=>s==="/"?"":s,oc=(s,e)=>s[0]==="~"?s.slice(1):Yn(e)+s,ac=(s="",e)=>nc(bi(Yn(s)),bi(e)),bi=s=>{try{return decodeURI(s)}catch{return s}},Qn={hook:ic,searchHook:tc,parser:Dl,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:s=>s},Kn=h.createContext(Qn),cs=()=>h.useContext(Kn),Jn={},eo=h.createContext(Jn),lc=()=>h.useContext(eo),Qs=s=>{const[e,t]=s.hook(s);return[ac(s.base,e),Xn((r,i)=>t(oc(r,s.base),i))]},cc=()=>Qs(cs()),Wr=(s,e,t,r)=>{const{pattern:i,keys:n}=e instanceof RegExp?{keys:!1,pattern:e}:s(e||"*",r),o=i.exec(t)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const d=n!==!1?Object.fromEntries(n.map((f,m)=>[f,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[a]:[]]:[!1,null]},dc=s=>Wr(cs().parser,s,cc()[0]),uc=({children:s,...e})=>{var u,f;const t=cs(),r=e.hook?Qn:t;let i=r;const[n,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=n),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=h.useRef({}),c=a.current,d=c;for(let m in r){const p=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===d&&p!==d[m]&&(a.current=d={...d}),d[m]=p,(p!==r[m]||p!==i[m])&&(i=d)}return h.createElement(Kn.Provider,{value:i,children:s})},xi=({children:s,component:e},t)=>e?h.createElement(e,{params:t}):typeof s=="function"?s(t):s,hc=s=>{let e=h.useRef(Jn);const t=e.current;return e.current=Object.keys(s).length!==Object.keys(t).length||Object.entries(s).some(([r,i])=>i!==t[r])?s:t},ar=({path:s,nest:e,match:t,...r})=>{const i=cs(),[n]=Qs(i),[o,a,c]=t??Wr(i.parser,s,n,e),d=hc({...lc(),...a});if(!o)return null;const u=c?h.createElement(uc,{base:c},xi(r,d)):xi(r,d);return h.createElement(eo.Provider,{value:d,children:u})};h.forwardRef((s,e)=>{const t=cs(),[r,i]=Qs(t),{to:n="",href:o=n,onClick:a,asChild:c,children:d,className:u,replace:f,state:m,...p}=s,w=Xn(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(o,s)))}),b=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return c&&h.isValidElement(d)?h.cloneElement(d,{onClick:w,href:b}):h.createElement("a",{...p,onClick:w,href:b,className:u!=null&&u.call?u(r===o):u,children:d,ref:e})});const to=s=>Array.isArray(s)?s.flatMap(e=>to(e&&e.type===h.Fragment?e.props.children:e)):[s],fc=({children:s,location:e})=>{const t=cs(),[r]=Qs(t);for(const i of to(s)){let n=0;if(h.isValidElement(i)&&(n=Wr(t.parser,i.props.path,e||r,i.props.nest))[0])return h.cloneElement(i,{match:n})}return null};var ds=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mc={setTimeout:(s,e)=>setTimeout(s,e),clearTimeout:s=>clearTimeout(s),setInterval:(s,e)=>setInterval(s,e),clearInterval:s=>clearInterval(s)},it,Gr,rn,gc=(rn=class{constructor(){L(this,it,mc);L(this,Gr,!1)}setTimeoutProvider(s){j(this,it,s)}setTimeout(s,e){return g(this,it).setTimeout(s,e)}clearTimeout(s){g(this,it).clearTimeout(s)}setInterval(s,e){return g(this,it).setInterval(s,e)}clearInterval(s){g(this,it).clearInterval(s)}},it=new WeakMap,Gr=new WeakMap,rn),bt=new gc;function pc(s){setTimeout(s,0)}var Pt=typeof window>"u"||"Deno"in globalThis;function ge(){}function vc(s,e){return typeof s=="function"?s(e):s}function pr(s){return typeof s=="number"&&s>=0&&s!==1/0}function so(s,e){return Math.max(s+(e||0)-Date.now(),0)}function mt(s,e){return typeof s=="function"?s(e):s}function _e(s,e){return typeof s=="function"?s(e):s}function wi(s,e){const{type:t="all",exact:r,fetchStatus:i,predicate:n,queryKey:o,stale:a}=s;if(o){if(r){if(e.queryHash!==Xr(o,e.options))return!1}else if(!ws(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||n&&!n(e))}function Ci(s,e){const{exact:t,status:r,predicate:i,mutationKey:n}=s;if(n){if(!e.options.mutationKey)return!1;if(t){if(Nt(e.options.mutationKey)!==Nt(n))return!1}else if(!ws(e.options.mutationKey,n))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Xr(s,e){return((e==null?void 0:e.queryKeyHashFn)||Nt)(s)}function Nt(s){return JSON.stringify(s,(e,t)=>vr(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function ws(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?Object.keys(e).every(t=>ws(s[t],e[t])):!1}var yc=Object.prototype.hasOwnProperty;function ro(s,e){if(s===e)return s;const t=Si(s)&&Si(e);if(!t&&!(vr(s)&&vr(e)))return e;const i=(t?s:Object.keys(s)).length,n=t?e:Object.keys(e),o=n.length,a=t?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=t?d:n[d],f=s[u],m=e[u];if(f===m){a[u]=f,(t?d<i:yc.call(s,u))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){a[u]=m;continue}const p=ro(f,m);a[u]=p,p===f&&c++}return i===o&&c===i?s:a}function Fs(s,e){if(!e||Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(s[t]!==e[t])return!1;return!0}function Si(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function vr(s){if(!Ti(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Ti(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Ti(s){return Object.prototype.toString.call(s)==="[object Object]"}function bc(s){return new Promise(e=>{bt.setTimeout(e,s)})}function yr(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?ro(s,e):e}function xc(s,e,t=0){const r=[...s,e];return t&&r.length>t?r.slice(1):r}function wc(s,e,t=0){const r=[e,...s];return t&&r.length>t?r.slice(0,-1):r}var qr=Symbol();function io(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===qr?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function no(s,e){return typeof s=="function"?s(...e):!!s}var Ct,nt,Gt,nn,Cc=(nn=class extends ds{constructor(){super();L(this,Ct);L(this,nt);L(this,Gt);j(this,Gt,e=>{if(!Pt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){g(this,nt)||this.setEventListener(g(this,Gt))}onUnsubscribe(){var e;this.hasListeners()||((e=g(this,nt))==null||e.call(this),j(this,nt,void 0))}setEventListener(e){var t;j(this,Gt,e),(t=g(this,nt))==null||t.call(this),j(this,nt,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){g(this,Ct)!==e&&(j(this,Ct,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof g(this,Ct)=="boolean"?g(this,Ct):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ct=new WeakMap,nt=new WeakMap,Gt=new WeakMap,nn),Yr=new Cc;function br(){let s,e;const t=new Promise((i,n)=>{s=i,e=n});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),s(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var Sc=pc;function Tc(){let s=[],e=0,t=a=>{a()},r=a=>{a()},i=Sc;const n=a=>{e?s.push(a):i(()=>{t(a)})},o=()=>{const a=s;s=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{t(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{n(()=>{a(...c)})},schedule:n,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var le=Tc(),Vt,ot,Zt,on,_c=(on=class extends ds{constructor(){super();L(this,Vt,!0);L(this,ot);L(this,Zt);j(this,Zt,e=>{if(!Pt&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){g(this,ot)||this.setEventListener(g(this,Zt))}onUnsubscribe(){var e;this.hasListeners()||((e=g(this,ot))==null||e.call(this),j(this,ot,void 0))}setEventListener(e){var t;j(this,Zt,e),(t=g(this,ot))==null||t.call(this),j(this,ot,e(this.setOnline.bind(this)))}setOnline(e){g(this,Vt)!==e&&(j(this,Vt,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return g(this,Vt)}},Vt=new WeakMap,ot=new WeakMap,Zt=new WeakMap,on),$s=new _c;function Ic(s){return Math.min(1e3*2**s,3e4)}function oo(s){return(s??"online")==="online"?$s.isOnline():!0}var xr=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function ao(s){let e=!1,t=0,r;const i=br(),n=()=>i.status!=="pending",o=b=>{var v;if(!n()){const S=new xr(b);m(S),(v=s.onCancel)==null||v.call(s,S)}},a=()=>{e=!0},c=()=>{e=!1},d=()=>Yr.isFocused()&&(s.networkMode==="always"||$s.isOnline())&&s.canRun(),u=()=>oo(s.networkMode)&&s.canRun(),f=b=>{n()||(r==null||r(),i.resolve(b))},m=b=>{n()||(r==null||r(),i.reject(b))},p=()=>new Promise(b=>{var v;r=S=>{(n()||d())&&b(S)},(v=s.onPause)==null||v.call(s)}).then(()=>{var b;r=void 0,n()||(b=s.onContinue)==null||b.call(s)}),w=()=>{if(n())return;let b;const v=t===0?s.initialPromise:void 0;try{b=v??s.fn()}catch(S){b=Promise.reject(S)}Promise.resolve(b).then(f).catch(S=>{var M;if(n())return;const x=s.retry??(Pt?0:3),_=s.retryDelay??Ic,T=typeof _=="function"?_(t,S):_,N=x===!0||typeof x=="number"&&t<x||typeof x=="function"&&x(t,S);if(e||!N){m(S);return}t++,(M=s.onFail)==null||M.call(s,t,S),bc(T).then(()=>d()?void 0:p()).then(()=>{e?m(S):w()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?w():p().then(w),i)}}var St,an,lo=(an=class{constructor(){L(this,St)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pr(this.gcTime)&&j(this,St,bt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Pt?1/0:5*60*1e3))}clearGcTimeout(){g(this,St)&&(bt.clearTimeout(g(this,St)),j(this,St,void 0))}},St=new WeakMap,an),Tt,Ut,Te,_t,de,_s,It,Pe,Ue,ln,Ec=(ln=class extends lo{constructor(e){super();L(this,Pe);L(this,Tt);L(this,Ut);L(this,Te);L(this,_t);L(this,de);L(this,_s);L(this,It);j(this,It,!1),j(this,_s,e.defaultOptions),this.setOptions(e.options),this.observers=[],j(this,_t,e.client),j(this,Te,g(this,_t).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,j(this,Tt,Ii(this.options)),this.state=e.state??g(this,Tt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=g(this,de))==null?void 0:e.promise}setOptions(e){if(this.options={...g(this,_s),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ii(this.options);t.data!==void 0&&(this.setState(_i(t.data,t.dataUpdatedAt)),j(this,Tt,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&g(this,Te).remove(this)}setData(e,t){const r=yr(this.state.data,e,this.options);return V(this,Pe,Ue).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){V(this,Pe,Ue).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=g(this,de))==null?void 0:r.promise;return(i=g(this,de))==null||i.cancel(e),t?t.then(ge).catch(ge):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(g(this,Tt))}isActive(){return this.observers.some(e=>_e(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>mt(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!so(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=g(this,de))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=g(this,de))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),g(this,Te).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(g(this,de)&&(g(this,It)?g(this,de).cancel({revert:!0}):g(this,de).cancelRetry()),this.scheduleGc()),g(this,Te).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||V(this,Pe,Ue).call(this,{type:"invalidate"})}async fetch(e,t){var c,d,u,f,m,p,w,b,v,S,x,_;if(this.state.fetchStatus!=="idle"&&((c=g(this,de))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(g(this,de))return g(this,de).continueRetry(),g(this,de).promise}if(e&&this.setOptions(e),!this.options.queryFn){const T=this.observers.find(N=>N.options.queryFn);T&&this.setOptions(T.options)}const r=new AbortController,i=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(j(this,It,!0),r.signal)})},n=()=>{const T=io(this.options,t),M=(()=>{const Z={client:g(this,_t),queryKey:this.queryKey,meta:this.meta};return i(Z),Z})();return j(this,It,!1),this.options.persister?this.options.persister(T,M,this):T(M)},a=(()=>{const T={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:g(this,_t),state:this.state,fetchFn:n};return i(T),T})();(d=this.options.behavior)==null||d.onFetch(a,this),j(this,Ut,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&V(this,Pe,Ue).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),j(this,de,ao({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,onCancel:T=>{T instanceof xr&&T.revert&&this.setState({...g(this,Ut),fetchStatus:"idle"}),r.abort()},onFail:(T,N)=>{V(this,Pe,Ue).call(this,{type:"failed",failureCount:T,error:N})},onPause:()=>{V(this,Pe,Ue).call(this,{type:"pause"})},onContinue:()=>{V(this,Pe,Ue).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const T=await g(this,de).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(p=(m=g(this,Te).config).onSuccess)==null||p.call(m,T,this),(b=(w=g(this,Te).config).onSettled)==null||b.call(w,T,this.state.error,this),T}catch(T){if(T instanceof xr){if(T.silent)return g(this,de).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw V(this,Pe,Ue).call(this,{type:"error",error:T}),(S=(v=g(this,Te).config).onError)==null||S.call(v,T,this),(_=(x=g(this,Te).config).onSettled)==null||_.call(x,this.state.data,T,this),T}finally{this.scheduleGc()}}},Tt=new WeakMap,Ut=new WeakMap,Te=new WeakMap,_t=new WeakMap,de=new WeakMap,_s=new WeakMap,It=new WeakMap,Pe=new WeakSet,Ue=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...co(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,..._i(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return j(this,Ut,e.manual?i:void 0),i;case"error":const n=e.error;return{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),le.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),g(this,Te).notify({query:this,type:"updated",action:e})})},ln);function co(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oo(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function _i(s,e){return{data:s,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ii(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,t=e!==void 0,r=t?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var pe,X,Is,fe,Et,Wt,We,at,Es,Xt,qt,kt,jt,lt,Yt,K,ys,wr,Cr,Sr,Tr,_r,Ir,Er,uo,cn,kc=(cn=class extends ds{constructor(e,t){super();L(this,K);L(this,pe);L(this,X);L(this,Is);L(this,fe);L(this,Et);L(this,Wt);L(this,We);L(this,at);L(this,Es);L(this,Xt);L(this,qt);L(this,kt);L(this,jt);L(this,lt);L(this,Yt,new Set);this.options=t,j(this,pe,e),j(this,at,null),j(this,We,br()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(g(this,X).addObserver(this),Ei(g(this,X),this.options)?V(this,K,ys).call(this):this.updateResult(),V(this,K,Tr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kr(g(this,X),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kr(g(this,X),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,V(this,K,_r).call(this),V(this,K,Ir).call(this),g(this,X).removeObserver(this)}setOptions(e){const t=this.options,r=g(this,X);if(this.options=g(this,pe).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _e(this.options.enabled,g(this,X))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");V(this,K,Er).call(this),g(this,X).setOptions(this.options),t._defaulted&&!Fs(this.options,t)&&g(this,pe).getQueryCache().notify({type:"observerOptionsUpdated",query:g(this,X),observer:this});const i=this.hasListeners();i&&ki(g(this,X),r,this.options,t)&&V(this,K,ys).call(this),this.updateResult(),i&&(g(this,X)!==r||_e(this.options.enabled,g(this,X))!==_e(t.enabled,g(this,X))||mt(this.options.staleTime,g(this,X))!==mt(t.staleTime,g(this,X)))&&V(this,K,wr).call(this);const n=V(this,K,Cr).call(this);i&&(g(this,X)!==r||_e(this.options.enabled,g(this,X))!==_e(t.enabled,g(this,X))||n!==g(this,lt))&&V(this,K,Sr).call(this,n)}getOptimisticResult(e){const t=g(this,pe).getQueryCache().build(g(this,pe),e),r=this.createResult(t,e);return Rc(this,r)&&(j(this,fe,r),j(this,Wt,this.options),j(this,Et,g(this,X).state)),r}getCurrentResult(){return g(this,fe)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&g(this,We).status==="pending"&&g(this,We).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){g(this,Yt).add(e)}getCurrentQuery(){return g(this,X)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=g(this,pe).defaultQueryOptions(e),r=g(this,pe).getQueryCache().build(g(this,pe),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return V(this,K,ys).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),g(this,fe)))}createResult(e,t){var E;const r=g(this,X),i=this.options,n=g(this,fe),o=g(this,Et),a=g(this,Wt),d=e!==r?e.state:g(this,Is),{state:u}=e;let f={...u},m=!1,p;if(t._optimisticResults){const y=this.hasListeners(),A=!y&&Ei(e,t),I=y&&ki(e,r,t,i);(A||I)&&(f={...f,...co(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:b,status:v}=f;p=f.data;let S=!1;if(t.placeholderData!==void 0&&p===void 0&&v==="pending"){let y;n!=null&&n.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData)?(y=n.data,S=!0):y=typeof t.placeholderData=="function"?t.placeholderData((E=g(this,qt))==null?void 0:E.state.data,g(this,qt)):t.placeholderData,y!==void 0&&(v="success",p=yr(n==null?void 0:n.data,y,t),m=!0)}if(t.select&&p!==void 0&&!S)if(n&&p===(o==null?void 0:o.data)&&t.select===g(this,Es))p=g(this,Xt);else try{j(this,Es,t.select),p=t.select(p),p=yr(n==null?void 0:n.data,p,t),j(this,Xt,p),j(this,at,null)}catch(y){j(this,at,y)}g(this,at)&&(w=g(this,at),p=g(this,Xt),b=Date.now(),v="error");const x=f.fetchStatus==="fetching",_=v==="pending",T=v==="error",N=_&&x,M=p!==void 0,H={status:v,fetchStatus:f.fetchStatus,isPending:_,isSuccess:v==="success",isError:T,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:T&&!M,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:T&&M,isStale:Qr(e,t),refetch:this.refetch,promise:g(this,We),isEnabled:_e(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const y=ne=>{H.status==="error"?ne.reject(H.error):H.data!==void 0&&ne.resolve(H.data)},A=()=>{const ne=j(this,We,H.promise=br());y(ne)},I=g(this,We);switch(I.status){case"pending":e.queryHash===r.queryHash&&y(I);break;case"fulfilled":(H.status==="error"||H.data!==I.value)&&A();break;case"rejected":(H.status!=="error"||H.error!==I.reason)&&A();break}}return H}updateResult(){const e=g(this,fe),t=this.createResult(g(this,X),this.options);if(j(this,Et,g(this,X).state),j(this,Wt,this.options),g(this,Et).data!==void 0&&j(this,qt,g(this,X)),Fs(t,e))return;j(this,fe,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,n=typeof i=="function"?i():i;if(n==="all"||!n&&!g(this,Yt).size)return!0;const o=new Set(n??g(this,Yt));return this.options.throwOnError&&o.add("error"),Object.keys(g(this,fe)).some(a=>{const c=a;return g(this,fe)[c]!==e[c]&&o.has(c)})};V(this,K,uo).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&V(this,K,Tr).call(this)}},pe=new WeakMap,X=new WeakMap,Is=new WeakMap,fe=new WeakMap,Et=new WeakMap,Wt=new WeakMap,We=new WeakMap,at=new WeakMap,Es=new WeakMap,Xt=new WeakMap,qt=new WeakMap,kt=new WeakMap,jt=new WeakMap,lt=new WeakMap,Yt=new WeakMap,K=new WeakSet,ys=function(e){V(this,K,Er).call(this);let t=g(this,X).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(ge)),t},wr=function(){V(this,K,_r).call(this);const e=mt(this.options.staleTime,g(this,X));if(Pt||g(this,fe).isStale||!pr(e))return;const r=so(g(this,fe).dataUpdatedAt,e)+1;j(this,kt,bt.setTimeout(()=>{g(this,fe).isStale||this.updateResult()},r))},Cr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(g(this,X)):this.options.refetchInterval)??!1},Sr=function(e){V(this,K,Ir).call(this),j(this,lt,e),!(Pt||_e(this.options.enabled,g(this,X))===!1||!pr(g(this,lt))||g(this,lt)===0)&&j(this,jt,bt.setInterval(()=>{(this.options.refetchIntervalInBackground||Yr.isFocused())&&V(this,K,ys).call(this)},g(this,lt)))},Tr=function(){V(this,K,wr).call(this),V(this,K,Sr).call(this,V(this,K,Cr).call(this))},_r=function(){g(this,kt)&&(bt.clearTimeout(g(this,kt)),j(this,kt,void 0))},Ir=function(){g(this,jt)&&(bt.clearInterval(g(this,jt)),j(this,jt,void 0))},Er=function(){const e=g(this,pe).getQueryCache().build(g(this,pe),this.options);if(e===g(this,X))return;const t=g(this,X);j(this,X,e),j(this,Is,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},uo=function(e){le.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(g(this,fe))}),g(this,pe).getQueryCache().notify({query:g(this,X),type:"observerResultsUpdated"})})},cn);function jc(s,e){return _e(e.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&e.retryOnMount===!1)}function Ei(s,e){return jc(s,e)||s.state.data!==void 0&&kr(s,e,e.refetchOnMount)}function kr(s,e,t){if(_e(e.enabled,s)!==!1&&mt(e.staleTime,s)!=="static"){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&Qr(s,e)}return!1}function ki(s,e,t,r){return(s!==e||_e(r.enabled,s)===!1)&&(!t.suspense||s.state.status!=="error")&&Qr(s,t)}function Qr(s,e){return _e(e.enabled,s)!==!1&&s.isStaleByTime(mt(e.staleTime,s))}function Rc(s,e){return!Fs(s.getCurrentResult(),e)}function ji(s){return{onFetch:(e,t)=>{var u,f,m,p,w;const r=e.options,i=(m=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,n=((p=e.state.data)==null?void 0:p.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},S=io(e.options,e.fetchOptions),x=async(_,T,N)=>{if(b)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const Z=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:T,direction:N?"backward":"forward",meta:e.options.meta};return v(A),A})(),H=await S(Z),{maxPages:E}=e.options,y=N?wc:xc;return{pages:y(_.pages,H,E),pageParams:y(_.pageParams,T,E)}};if(i&&n.length){const _=i==="backward",T=_?Pc:Ri,N={pages:n,pageParams:o},M=T(r,N);a=await x(N,M,_)}else{const _=s??n.length;do{const T=c===0?o[0]??r.initialPageParam:Ri(r,a);if(c>0&&T==null)break;a=await x(a,T),c++}while(c<_)}return a};e.options.persister?e.fetchFn=()=>{var b,v;return(v=(b=e.options).persister)==null?void 0:v.call(b,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function Ri(s,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?s.getNextPageParam(e[r],e,t[r],t):void 0}function Pc(s,{pages:e,pageParams:t}){var r;return e.length>0?(r=s.getPreviousPageParam)==null?void 0:r.call(s,e[0],e,t[0],t):void 0}var ks,ze,me,Rt,Fe,tt,dn,Nc=(dn=class extends lo{constructor(e){super();L(this,Fe);L(this,ks);L(this,ze);L(this,me);L(this,Rt);j(this,ks,e.client),this.mutationId=e.mutationId,j(this,me,e.mutationCache),j(this,ze,[]),this.state=e.state||ho(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){g(this,ze).includes(e)||(g(this,ze).push(e),this.clearGcTimeout(),g(this,me).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){j(this,ze,g(this,ze).filter(t=>t!==e)),this.scheduleGc(),g(this,me).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){g(this,ze).length||(this.state.status==="pending"?this.scheduleGc():g(this,me).remove(this))}continue(){var e;return((e=g(this,Rt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,c,d,u,f,m,p,w,b,v,S,x,_,T,N,M,Z,H,E;const t=()=>{V(this,Fe,tt).call(this,{type:"continue"})},r={client:g(this,ks),meta:this.options.meta,mutationKey:this.options.mutationKey};j(this,Rt,ao({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(y,A)=>{V(this,Fe,tt).call(this,{type:"failed",failureCount:y,error:A})},onPause:()=>{V(this,Fe,tt).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>g(this,me).canRun(this)}));const i=this.state.status==="pending",n=!g(this,Rt).canStart();try{if(i)t();else{V(this,Fe,tt).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(o=g(this,me).config).onMutate)==null?void 0:a.call(o,e,this,r));const A=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,r));A!==this.state.context&&V(this,Fe,tt).call(this,{type:"pending",context:A,variables:e,isPaused:n})}const y=await g(this,Rt).start();return await((f=(u=g(this,me).config).onSuccess)==null?void 0:f.call(u,y,e,this.state.context,this,r)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,y,e,this.state.context,r)),await((b=(w=g(this,me).config).onSettled)==null?void 0:b.call(w,y,null,this.state.variables,this.state.context,this,r)),await((S=(v=this.options).onSettled)==null?void 0:S.call(v,y,null,e,this.state.context,r)),V(this,Fe,tt).call(this,{type:"success",data:y}),y}catch(y){try{throw await((_=(x=g(this,me).config).onError)==null?void 0:_.call(x,y,e,this.state.context,this,r)),await((N=(T=this.options).onError)==null?void 0:N.call(T,y,e,this.state.context,r)),await((Z=(M=g(this,me).config).onSettled)==null?void 0:Z.call(M,void 0,y,this.state.variables,this.state.context,this,r)),await((E=(H=this.options).onSettled)==null?void 0:E.call(H,void 0,y,e,this.state.context,r)),y}finally{V(this,Fe,tt).call(this,{type:"error",error:y})}}finally{g(this,me).runNext(this)}}},ks=new WeakMap,ze=new WeakMap,me=new WeakMap,Rt=new WeakMap,Fe=new WeakSet,tt=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),le.batch(()=>{g(this,ze).forEach(r=>{r.onMutationUpdate(e)}),g(this,me).notify({mutation:this,type:"updated",action:e})})},dn);function ho(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xe,Ne,js,un,Oc=(un=class extends ds{constructor(e={}){super();L(this,Xe);L(this,Ne);L(this,js);this.config=e,j(this,Xe,new Set),j(this,Ne,new Map),j(this,js,0)}build(e,t,r){const i=new Nc({client:e,mutationCache:this,mutationId:++Ns(this,js)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){g(this,Xe).add(e);const t=Os(e);if(typeof t=="string"){const r=g(this,Ne).get(t);r?r.push(e):g(this,Ne).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(g(this,Xe).delete(e)){const t=Os(e);if(typeof t=="string"){const r=g(this,Ne).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&g(this,Ne).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Os(e);if(typeof t=="string"){const r=g(this,Ne).get(t),i=r==null?void 0:r.find(n=>n.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=Os(e);if(typeof t=="string"){const i=(r=g(this,Ne).get(t))==null?void 0:r.find(n=>n!==e&&n.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){le.batch(()=>{g(this,Xe).forEach(e=>{this.notify({type:"removed",mutation:e})}),g(this,Xe).clear(),g(this,Ne).clear()})}getAll(){return Array.from(g(this,Xe))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Ci(t,r))}findAll(e={}){return this.getAll().filter(t=>Ci(e,t))}notify(e){le.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return le.batch(()=>Promise.all(e.map(t=>t.continue().catch(ge))))}},Xe=new WeakMap,Ne=new WeakMap,js=new WeakMap,un);function Os(s){var e;return(e=s.options.scope)==null?void 0:e.id}var qe,ct,ve,Ye,Qe,Ds,jr,hn,Ac=(hn=class extends ds{constructor(t,r){super();L(this,Qe);L(this,qe);L(this,ct);L(this,ve);L(this,Ye);j(this,qe,t),this.setOptions(r),this.bindMethods(),V(this,Qe,Ds).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=g(this,qe).defaultMutationOptions(t),Fs(this.options,r)||g(this,qe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:g(this,ve),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Nt(r.mutationKey)!==Nt(this.options.mutationKey)?this.reset():((i=g(this,ve))==null?void 0:i.state.status)==="pending"&&g(this,ve).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=g(this,ve))==null||t.removeObserver(this)}onMutationUpdate(t){V(this,Qe,Ds).call(this),V(this,Qe,jr).call(this,t)}getCurrentResult(){return g(this,ct)}reset(){var t;(t=g(this,ve))==null||t.removeObserver(this),j(this,ve,void 0),V(this,Qe,Ds).call(this),V(this,Qe,jr).call(this)}mutate(t,r){var i;return j(this,Ye,r),(i=g(this,ve))==null||i.removeObserver(this),j(this,ve,g(this,qe).getMutationCache().build(g(this,qe),this.options)),g(this,ve).addObserver(this),g(this,ve).execute(t)}},qe=new WeakMap,ct=new WeakMap,ve=new WeakMap,Ye=new WeakMap,Qe=new WeakSet,Ds=function(){var r;const t=((r=g(this,ve))==null?void 0:r.state)??ho();j(this,ct,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},jr=function(t){le.batch(()=>{var r,i,n,o,a,c,d,u;if(g(this,Ye)&&this.hasListeners()){const f=g(this,ct).variables,m=g(this,ct).context,p={client:g(this,qe),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((i=(r=g(this,Ye)).onSuccess)==null||i.call(r,t.data,f,m,p),(o=(n=g(this,Ye)).onSettled)==null||o.call(n,t.data,null,f,m,p)):(t==null?void 0:t.type)==="error"&&((c=(a=g(this,Ye)).onError)==null||c.call(a,t.error,f,m,p),(u=(d=g(this,Ye)).onSettled)==null||u.call(d,void 0,t.error,f,m,p))}this.listeners.forEach(f=>{f(g(this,ct))})})},hn),$e,fn,Lc=(fn=class extends ds{constructor(e={}){super();L(this,$e);this.config=e,j(this,$e,new Map)}build(e,t,r){const i=t.queryKey,n=t.queryHash??Xr(i,t);let o=this.get(n);return o||(o=new Ec({client:e,queryKey:i,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){g(this,$e).has(e.queryHash)||(g(this,$e).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=g(this,$e).get(e.queryHash);t&&(e.destroy(),t===e&&g(this,$e).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){le.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return g(this,$e).get(e)}getAll(){return[...g(this,$e).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>wi(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>wi(e,r)):t}notify(e){le.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){le.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){le.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$e=new WeakMap,fn),ie,dt,ut,Qt,Kt,ht,Jt,es,mn,Dc=(mn=class{constructor(s={}){L(this,ie);L(this,dt);L(this,ut);L(this,Qt);L(this,Kt);L(this,ht);L(this,Jt);L(this,es);j(this,ie,s.queryCache||new Lc),j(this,dt,s.mutationCache||new Oc),j(this,ut,s.defaultOptions||{}),j(this,Qt,new Map),j(this,Kt,new Map),j(this,ht,0)}mount(){Ns(this,ht)._++,g(this,ht)===1&&(j(this,Jt,Yr.subscribe(async s=>{s&&(await this.resumePausedMutations(),g(this,ie).onFocus())})),j(this,es,$s.subscribe(async s=>{s&&(await this.resumePausedMutations(),g(this,ie).onOnline())})))}unmount(){var s,e;Ns(this,ht)._--,g(this,ht)===0&&((s=g(this,Jt))==null||s.call(this),j(this,Jt,void 0),(e=g(this,es))==null||e.call(this),j(this,es,void 0))}isFetching(s){return g(this,ie).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return g(this,dt).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=g(this,ie).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),t=g(this,ie).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(s):(s.revalidateIfStale&&t.isStaleByTime(mt(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(s){return g(this,ie).findAll(s).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(s,e,t){const r=this.defaultQueryOptions({queryKey:s}),i=g(this,ie).get(r.queryHash),n=i==null?void 0:i.state.data,o=vc(e,n);if(o!==void 0)return g(this,ie).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(s,e,t){return le.batch(()=>g(this,ie).findAll(s).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=g(this,ie).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=g(this,ie);le.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=g(this,ie);return le.batch(()=>(t.findAll(s).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...s},e)))}cancelQueries(s,e={}){const t={revert:!0,...e},r=le.batch(()=>g(this,ie).findAll(s).map(i=>i.cancel(t)));return Promise.all(r).then(ge).catch(ge)}invalidateQueries(s,e={}){return le.batch(()=>(g(this,ie).findAll(s).forEach(t=>{t.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},e)))}refetchQueries(s,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=le.batch(()=>g(this,ie).findAll(s).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let n=i.fetch(void 0,t);return t.throwOnError||(n=n.catch(ge)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(r).then(ge)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=g(this,ie).build(this,e);return t.isStaleByTime(mt(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(ge).catch(ge)}fetchInfiniteQuery(s){return s.behavior=ji(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(ge).catch(ge)}ensureInfiniteQueryData(s){return s.behavior=ji(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return $s.isOnline()?g(this,dt).resumePausedMutations():Promise.resolve()}getQueryCache(){return g(this,ie)}getMutationCache(){return g(this,dt)}getDefaultOptions(){return g(this,ut)}setDefaultOptions(s){j(this,ut,s)}setQueryDefaults(s,e){g(this,Qt).set(Nt(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...g(this,Qt).values()],t={};return e.forEach(r=>{ws(s,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(s,e){g(this,Kt).set(Nt(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...g(this,Kt).values()],t={};return e.forEach(r=>{ws(s,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...g(this,ut).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=Xr(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qr&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...g(this,ut).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){g(this,ie).clear(),g(this,dt).clear()}},ie=new WeakMap,dt=new WeakMap,ut=new WeakMap,Qt=new WeakMap,Kt=new WeakMap,ht=new WeakMap,Jt=new WeakMap,es=new WeakMap,mn),fo=h.createContext(void 0),mo=s=>{const e=h.useContext(fo);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Mc=({client:s,children:e})=>(h.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),l.jsx(fo.Provider,{value:s,children:e})),go=h.createContext(!1),zc=()=>h.useContext(go);go.Provider;function Fc(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var $c=h.createContext(Fc()),Bc=()=>h.useContext($c),Hc=(s,e)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(e.isReset()||(s.retryOnMount=!1))},Gc=s=>{h.useEffect(()=>{s.clearReset()},[s])},Vc=({result:s,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>s.isError&&!e.isReset()&&!s.isFetching&&r&&(i&&s.data===void 0||no(t,[s.error,r])),Zc=s=>{if(s.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),r=s.staleTime;s.staleTime=typeof r=="function"?(...i)=>t(r(...i)):t(r),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},Uc=(s,e)=>s.isLoading&&s.isFetching&&!e,Wc=(s,e)=>(s==null?void 0:s.suspense)&&e.isPending,Pi=(s,e,t)=>e.fetchOptimistic(s).catch(()=>{t.clearReset()});function Xc(s,e,t){var f,m,p,w,b;const r=zc(),i=Bc(),n=mo(),o=n.defaultQueryOptions(s);(m=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",Zc(o),Hc(o,i),Gc(i);const a=!n.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new e(n,o)),d=c.getOptimisticResult(o),u=!r&&s.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(v=>{const S=u?c.subscribe(le.batchCalls(v)):ge;return c.updateResult(),S},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o)},[o,c]),Wc(o,d))throw Pi(o,c,i);if(Vc({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((w=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,o,d),o.experimental_prefetchInRender&&!Pt&&Uc(d,r)){const v=a?Pi(o,c,i):(b=n.getQueryCache().get(o.queryHash))==null?void 0:b.promise;v==null||v.catch(ge).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function xt(s,e){return Xc(s,kc)}function Me(s,e){const t=mo(),[r]=h.useState(()=>new Ac(t,s));h.useEffect(()=>{r.setOptions(s)},[r,s]);const i=h.useSyncExternalStore(h.useCallback(o=>r.subscribe(le.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),n=h.useCallback((o,a)=>{r.mutate(o,a).catch(ge)},[r]);if(i.error&&no(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:n,mutateAsync:i.mutate}}async function po(s){if(!s.ok){const e=await s.text()||s.statusText;throw new Error(`${s.status}: ${e}`)}}async function Re(s,e,t){const r=await fetch(s,{method:e,headers:t?{"Content-Type":"application/json"}:{},body:t?JSON.stringify(t):void 0,credentials:"include"});if(await po(r),!(e==="DELETE"||r.status===204))return await r.json()}const qc=({on401:s})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return await po(t),await t.json()},he=new Dc({defaultOptions:{queries:{queryFn:qc({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Yc=1,Qc=1e6;let lr=0;function Kc(){return lr=(lr+1)%Number.MAX_SAFE_INTEGER,lr.toString()}const cr=new Map,Ni=s=>{if(cr.has(s))return;const e=setTimeout(()=>{cr.delete(s),xs({type:"REMOVE_TOAST",toastId:s})},Qc);cr.set(s,e)},Jc=(s,e)=>{switch(e.type){case"ADD_TOAST":return{...s,toasts:[e.toast,...s.toasts].slice(0,Yc)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Ni(t):s.toasts.forEach(r=>{Ni(r.id)}),{...s,toasts:s.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(t=>t.id!==e.toastId)}}},Ms=[];let zs={toasts:[]};function xs(s){zs=Jc(zs,s),Ms.forEach(e=>{e(zs)})}function ed({...s}){const e=Kc(),t=i=>xs({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>xs({type:"DISMISS_TOAST",toastId:e});return xs({type:"ADD_TOAST",toast:{...s,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function vo(){const[s,e]=h.useState(zs);return h.useEffect(()=>(Ms.push(e),()=>{const t=Ms.indexOf(e);t>-1&&Ms.splice(t,1)}),[s]),{...s,toast:ed,dismiss:t=>xs({type:"DISMISS_TOAST",toastId:t})}}var Kr="ToastProvider",[Jr,td,sd]=sl("Toast"),[yo]=Vr("Toast",[sd]),[rd,Ks]=yo(Kr),bo=s=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:n=50,children:o}=s,[a,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kr}\`. Expected non-empty \`string\`.`),l.jsx(Jr.Provider,{scope:e,children:l.jsx(rd,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:n,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};bo.displayName=Kr;var xo="ToastViewport",id=["F8"],Rr="toast.viewportPause",Pr="toast.viewportResume",wo=h.forwardRef((s,e)=>{const{__scopeToast:t,hotkey:r=id,label:i="Notifications ({hotkey})",...n}=s,o=Ks(xo,t),a=td(t),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=He(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;h.useEffect(()=>{const v=S=>{var _;r.length!==0&&r.every(T=>S[T]||S.code===T)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),h.useEffect(()=>{const v=c.current,S=f.current;if(w&&v&&S){const x=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Rr);S.dispatchEvent(M),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Pr);S.dispatchEvent(M),o.isClosePausedRef.current=!1}},T=M=>{!v.contains(M.relatedTarget)&&_()},N=()=>{v.contains(document.activeElement)||_()};return v.addEventListener("focusin",x),v.addEventListener("focusout",T),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",T),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[w,o.isClosePausedRef]);const b=h.useCallback(({tabbingDirection:v})=>{const x=a().map(_=>{const T=_.ref.current,N=[T,...vd(T)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?x.reverse():x).flat()},[a]);return h.useEffect(()=>{const v=f.current;if(v){const S=x=>{var N,M,Z;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const H=document.activeElement,E=x.shiftKey;if(x.target===v&&E){(N=d.current)==null||N.focus();return}const I=b({tabbingDirection:E?"backwards":"forwards"}),ne=I.findIndex(z=>z===H);dr(I.slice(ne+1))?x.preventDefault():E?(M=d.current)==null||M.focus():(Z=u.current)==null||Z.focus()}};return v.addEventListener("keydown",S),()=>v.removeEventListener("keydown",S)}},[a,b]),l.jsxs(rl,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(Nr,{ref:d,onFocusFromOutsideViewport:()=>{const v=b({tabbingDirection:"forwards"});dr(v)}}),l.jsx(Jr.Slot,{scope:t,children:l.jsx(Ie.ol,{tabIndex:-1,...n,ref:m})}),w&&l.jsx(Nr,{ref:u,onFocusFromOutsideViewport:()=>{const v=b({tabbingDirection:"backwards"});dr(v)}})]})});wo.displayName=xo;var Co="ToastFocusProxy",Nr=h.forwardRef((s,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=s,n=Ks(Co,t);return l.jsx(gn,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=n.viewport)!=null&&d.contains(a))&&r()}})});Nr.displayName=Co;var Rs="Toast",nd="toast.swipeStart",od="toast.swipeMove",ad="toast.swipeCancel",ld="toast.swipeEnd",So=h.forwardRef((s,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:n,...o}=s,[a,c]=il({prop:r,defaultProp:i??!0,onChange:n,caller:Rs});return l.jsx(ls,{present:t||a,children:l.jsx(ud,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Oe(s.onPause),onResume:Oe(s.onResume),onSwipeStart:se(s.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(s.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(s.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(s.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});So.displayName=Rs;var[cd,dd]=yo(Rs,{onClose(){}}),ud=h.forwardRef((s,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:n,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...w}=s,b=Ks(Rs,t),[v,S]=h.useState(null),x=He(e,z=>S(z)),_=h.useRef(null),T=h.useRef(null),N=i||b.duration,M=h.useRef(0),Z=h.useRef(N),H=h.useRef(0),{onToastAdd:E,onToastRemove:y}=b,A=Oe(()=>{var ce;(v==null?void 0:v.contains(document.activeElement))&&((ce=b.viewport)==null||ce.focus()),o()}),I=h.useCallback(z=>{!z||z===1/0||(window.clearTimeout(H.current),M.current=new Date().getTime(),H.current=window.setTimeout(A,z))},[A]);h.useEffect(()=>{const z=b.viewport;if(z){const ce=()=>{I(Z.current),d==null||d()},ue=()=>{const De=new Date().getTime()-M.current;Z.current=Z.current-De,window.clearTimeout(H.current),c==null||c()};return z.addEventListener(Rr,ue),z.addEventListener(Pr,ce),()=>{z.removeEventListener(Rr,ue),z.removeEventListener(Pr,ce)}}},[b.viewport,N,c,d,I]),h.useEffect(()=>{n&&!b.isClosePausedRef.current&&I(N)},[n,N,b.isClosePausedRef,I]),h.useEffect(()=>(E(),()=>y()),[E,y]);const ne=h.useMemo(()=>v?Ro(v):null,[v]);return b.viewport?l.jsxs(l.Fragment,{children:[ne&&l.jsx(hd,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:ne}),l.jsx(cd,{scope:t,onClose:A,children:Bn.createPortal(l.jsx(Jr.ItemSlot,{scope:t,children:l.jsx(nl,{asChild:!0,onEscapeKeyDown:se(a,()=>{b.isFocusedToastEscapeKeyDownRef.current||A(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Ie.li,{tabIndex:0,"data-state":n?"open":"closed","data-swipe-direction":b.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:se(s.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:se(s.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:se(s.onPointerMove,z=>{if(!_.current)return;const ce=z.clientX-_.current.x,ue=z.clientY-_.current.y,De=!!T.current,je=["left","right"].includes(b.swipeDirection),Ce=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,Ft=je?Ce(0,ce):0,ye=je?0:Ce(0,ue),fs=z.pointerType==="touch"?10:2,yt={x:Ft,y:ye},Ps={originalEvent:z,delta:yt};De?(T.current=yt,As(od,f,Ps,{discrete:!1})):Oi(yt,b.swipeDirection,fs)?(T.current=yt,As(nd,u,Ps,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(ce)>fs||Math.abs(ue)>fs)&&(_.current=null)}),onPointerUp:se(s.onPointerUp,z=>{const ce=T.current,ue=z.target;if(ue.hasPointerCapture(z.pointerId)&&ue.releasePointerCapture(z.pointerId),T.current=null,_.current=null,ce){const De=z.currentTarget,je={originalEvent:z,delta:ce};Oi(ce,b.swipeDirection,b.swipeThreshold)?As(ld,p,je,{discrete:!0}):As(ad,m,je,{discrete:!0}),De.addEventListener("click",Ce=>Ce.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),hd=s=>{const{__scopeToast:e,children:t,...r}=s,i=Ks(Rs,e),[n,o]=h.useState(!1),[a,c]=h.useState(!1);return gd(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(ol,{asChild:!0,children:l.jsx(gn,{...r,children:n&&l.jsxs(l.Fragment,{children:[i.label," ",t]})})})},fd="ToastTitle",To=h.forwardRef((s,e)=>{const{__scopeToast:t,...r}=s;return l.jsx(Ie.div,{...r,ref:e})});To.displayName=fd;var md="ToastDescription",_o=h.forwardRef((s,e)=>{const{__scopeToast:t,...r}=s;return l.jsx(Ie.div,{...r,ref:e})});_o.displayName=md;var Io="ToastAction",Eo=h.forwardRef((s,e)=>{const{altText:t,...r}=s;return t.trim()?l.jsx(jo,{altText:t,asChild:!0,children:l.jsx(ei,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Io}\`. Expected non-empty \`string\`.`),null)});Eo.displayName=Io;var ko="ToastClose",ei=h.forwardRef((s,e)=>{const{__scopeToast:t,...r}=s,i=dd(ko,t);return l.jsx(jo,{asChild:!0,children:l.jsx(Ie.button,{type:"button",...r,ref:e,onClick:se(s.onClick,i.onClose)})})});ei.displayName=ko;var jo=h.forwardRef((s,e)=>{const{__scopeToast:t,altText:r,...i}=s;return l.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Ro(s){const e=[];return Array.from(s.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),pd(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",n=r.dataset.radixToastAnnounceExclude==="";if(!i)if(n){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ro(r))}}),e}function As(s,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,n=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(s,e,{once:!0}),r?al(i,n):i.dispatchEvent(n)}var Oi=(s,e,t=0)=>{const r=Math.abs(s.x),i=Math.abs(s.y),n=r>i;return e==="left"||e==="right"?n&&r>t:!n&&i>t};function gd(s=()=>{}){const e=Oe(s);pn(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function pd(s){return s.nodeType===s.ELEMENT_NODE}function vd(s){const e=[],t=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function dr(s){const e=document.activeElement;return s.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var yd=bo,Po=wo,No=So,Oo=To,Ao=_o,Lo=Eo,Do=ei;function Mo(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var i=s.length;for(e=0;e<i;e++)s[e]&&(t=Mo(s[e]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function zo(){for(var s,e,t=0,r="",i=arguments.length;t<i;t++)(s=arguments[t])&&(e=Mo(s))&&(r&&(r+=" "),r+=e);return r}const Ai=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Li=zo,ti=(s,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Li(s,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:n}=e,o=Object.keys(i).map(d=>{const u=t==null?void 0:t[d],f=n==null?void 0:n[d];if(u===null)return null;const m=Ai(u)||Ai(f);return i[d][m]}),a=t&&Object.entries(t).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:f,className:m,...p}=u;return Object.entries(p).every(w=>{let[b,v]=w;return Array.isArray(v)?v.includes({...n,...a}[b]):{...n,...a}[b]===v})?[...d,f,m]:d},[]);return Li(s,o,c,t==null?void 0:t.class,t==null?void 0:t.className)},si="-",bd=s=>{const e=wd(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:o=>{const a=o.split(si);return a[0]===""&&a.length!==1&&a.shift(),Fo(a,e)||xd(o)},getConflictingClassGroupIds:(o,a)=>{const c=t[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},Fo=(s,e)=>{var o;if(s.length===0)return e.classGroupId;const t=s[0],r=e.nextPart.get(t),i=r?Fo(s.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const n=s.join(si);return(o=e.validators.find(({validator:a})=>a(n)))==null?void 0:o.classGroupId},Di=/^\[(.+)\]$/,xd=s=>{if(Di.test(s)){const e=Di.exec(s)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},wd=s=>{const{theme:e,prefix:t}=s,r={nextPart:new Map,validators:[]};return Sd(Object.entries(s.classGroups),t).forEach(([n,o])=>{Or(o,r,n,e)}),r},Or=(s,e,t,r)=>{s.forEach(i=>{if(typeof i=="string"){const n=i===""?e:Mi(e,i);n.classGroupId=t;return}if(typeof i=="function"){if(Cd(i)){Or(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([n,o])=>{Or(o,Mi(e,n),t,r)})})},Mi=(s,e)=>{let t=s;return e.split(si).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Cd=s=>s.isThemeGetter,Sd=(s,e)=>e?s.map(([t,r])=>{const i=r.map(n=>typeof n=="string"?e+n:typeof n=="object"?Object.fromEntries(Object.entries(n).map(([o,a])=>[e+o,a])):n);return[t,i]}):s,Td=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(n,o)=>{t.set(n,o),e++,e>s&&(e=0,r=t,t=new Map)};return{get(n){let o=t.get(n);if(o!==void 0)return o;if((o=r.get(n))!==void 0)return i(n,o),o},set(n,o){t.has(n)?t.set(n,o):i(n,o)}}},$o="!",_d=s=>{const{separator:e,experimentalParseClassName:t}=s,r=e.length===1,i=e[0],n=e.length,o=a=>{const c=[];let d=0,u=0,f;for(let v=0;v<a.length;v++){let S=a[v];if(d===0){if(S===i&&(r||a.slice(v,v+n)===e)){c.push(a.slice(u,v)),u=v+n;continue}if(S==="/"){f=v;continue}}S==="["?d++:S==="]"&&d--}const m=c.length===0?a:a.substring(u),p=m.startsWith($o),w=p?m.substring(1):m,b=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:b}};return t?a=>t({className:a,parseClassName:o}):o},Id=s=>{if(s.length<=1)return s;const e=[];let t=[];return s.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Ed=s=>({cache:Td(s.cacheSize),parseClassName:_d(s),...bd(s)}),kd=/\s+/,jd=(s,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,n=[],o=s.trim().split(kd);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=t(d);let w=!!p,b=r(w?m.substring(0,p):m);if(!b){if(!w){a=d+(a.length>0?" "+a:a);continue}if(b=r(m),!b){a=d+(a.length>0?" "+a:a);continue}w=!1}const v=Id(u).join(":"),S=f?v+$o:v,x=S+b;if(n.includes(x))continue;n.push(x);const _=i(b,w);for(let T=0;T<_.length;++T){const N=_[T];n.push(S+N)}a=d+(a.length>0?" "+a:a)}return a};function Rd(){let s=0,e,t,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=Bo(e))&&(r&&(r+=" "),r+=t);return r}const Bo=s=>{if(typeof s=="string")return s;let e,t="";for(let r=0;r<s.length;r++)s[r]&&(e=Bo(s[r]))&&(t&&(t+=" "),t+=e);return t};function Pd(s,...e){let t,r,i,n=o;function o(c){const d=e.reduce((u,f)=>f(u),s());return t=Ed(d),r=t.cache.get,i=t.cache.set,n=a,a(c)}function a(c){const d=r(c);if(d)return d;const u=jd(c,t);return i(c,u),u}return function(){return n(Rd.apply(null,arguments))}}const ee=s=>{const e=t=>t[s]||[];return e.isThemeGetter=!0,e},Ho=/^\[(?:([a-z-]+):)?(.+)\]$/i,Nd=/^\d+\/\d+$/,Od=new Set(["px","full","screen"]),Ad=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ld=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Md=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ve=s=>Bt(s)||Od.has(s)||Nd.test(s),Je=s=>us(s,"length",Ud),Bt=s=>!!s&&!Number.isNaN(Number(s)),ur=s=>us(s,"number",Bt),gs=s=>!!s&&Number.isInteger(Number(s)),Fd=s=>s.endsWith("%")&&Bt(s.slice(0,-1)),G=s=>Ho.test(s),et=s=>Ad.test(s),$d=new Set(["length","size","percentage"]),Bd=s=>us(s,$d,Go),Hd=s=>us(s,"position",Go),Gd=new Set(["image","url"]),Vd=s=>us(s,Gd,Xd),Zd=s=>us(s,"",Wd),ps=()=>!0,us=(s,e,t)=>{const r=Ho.exec(s);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Ud=s=>Ld.test(s)&&!Dd.test(s),Go=()=>!1,Wd=s=>Md.test(s),Xd=s=>zd.test(s),qd=()=>{const s=ee("colors"),e=ee("spacing"),t=ee("blur"),r=ee("brightness"),i=ee("borderColor"),n=ee("borderRadius"),o=ee("borderSpacing"),a=ee("borderWidth"),c=ee("contrast"),d=ee("grayscale"),u=ee("hueRotate"),f=ee("invert"),m=ee("gap"),p=ee("gradientColorStops"),w=ee("gradientColorStopPositions"),b=ee("inset"),v=ee("margin"),S=ee("opacity"),x=ee("padding"),_=ee("saturate"),T=ee("scale"),N=ee("sepia"),M=ee("skew"),Z=ee("space"),H=ee("translate"),E=()=>["auto","contain","none"],y=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",G,e],I=()=>[G,e],ne=()=>["",Ve,Je],z=()=>["auto",Bt,G],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>["start","end","center","between","around","evenly","stretch"],Ce=()=>["","0",G],Ft=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ye=()=>[Bt,G];return{cacheSize:500,separator:":",theme:{colors:[ps],spacing:[Ve,Je],blur:["none","",et,G],brightness:ye(),borderColor:[s],borderRadius:["none","","full",et,G],borderSpacing:I(),borderWidth:ne(),contrast:ye(),grayscale:Ce(),hueRotate:ye(),invert:Ce(),gap:I(),gradientColorStops:[s],gradientColorStopPositions:[Fd,Je],inset:A(),margin:A(),opacity:ye(),padding:I(),saturate:ye(),scale:ye(),sepia:Ce(),skew:ye(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[et]}],"break-after":[{"break-after":Ft()}],"break-before":[{"break-before":Ft()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),G]}],overflow:[{overflow:y()}],"overflow-x":[{"overflow-x":y()}],"overflow-y":[{"overflow-y":y()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gs,G]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:Ce()}],shrink:[{shrink:Ce()}],order:[{order:["first","last","none",gs,G]}],"grid-cols":[{"grid-cols":[ps]}],"col-start-end":[{col:["auto",{span:["full",gs,G]},G]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[ps]}],"row-start-end":[{row:["auto",{span:[gs,G]},G]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...je()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...je(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...je(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,e]}],"min-w":[{"min-w":[G,e,"min","max","fit"]}],"max-w":[{"max-w":[G,e,"none","full","min","max","fit","prose",{screen:[et]},et]}],h:[{h:[G,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,e,"auto","min","max","fit"]}],"font-size":[{text:["base",et,Je]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ur]}],"font-family":[{font:[ps]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",Bt,ur]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ve,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ve,Je]}],"underline-offset":[{"underline-offset":["auto",Ve,G]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),Hd]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Vd]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:ue()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[Ve,G]}],"outline-w":[{outline:[Ve,Je]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Ve,Je]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",et,Zd]}],"shadow-color":[{shadow:[ps]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...De(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":De()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",et,G]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[gs,G]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Ve,Je,ur]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Yd=Pd(qd);function B(...s){return Yd(zo(s))}const Qd=yd,Vo=h.forwardRef(({className:s,...e},t)=>l.jsx(Po,{ref:t,className:B("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...e}));Vo.displayName=Po.displayName;const Kd=ti("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zo=h.forwardRef(({className:s,variant:e,...t},r)=>l.jsx(No,{ref:r,className:B(Kd({variant:e}),s),...t}));Zo.displayName=No.displayName;const Jd=h.forwardRef(({className:s,...e},t)=>l.jsx(Lo,{ref:t,className:B("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...e}));Jd.displayName=Lo.displayName;const Uo=h.forwardRef(({className:s,...e},t)=>l.jsx(Do,{ref:t,className:B("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...e,children:l.jsx(Hn,{className:"h-4 w-4"})}));Uo.displayName=Do.displayName;const Wo=h.forwardRef(({className:s,...e},t)=>l.jsx(Oo,{ref:t,className:B("text-sm font-semibold",s),...e}));Wo.displayName=Oo.displayName;const Xo=h.forwardRef(({className:s,...e},t)=>l.jsx(Ao,{ref:t,className:B("text-sm opacity-90",s),...e}));Xo.displayName=Ao.displayName;function eu(){const{toasts:s}=vo();return l.jsxs(Qd,{children:[s.map(function({id:e,title:t,description:r,action:i,...n}){return l.jsxs(Zo,{...n,children:[l.jsxs("div",{className:"grid gap-1",children:[t&&l.jsx(Wo,{children:t}),r&&l.jsx(Xo,{children:r})]}),i,l.jsx(Uo,{})]},e)}),l.jsx(Vo,{})]})}var tu=Symbol("radix.slottable");function su(s){const e=({children:t})=>l.jsx(l.Fragment,{children:t});return e.displayName=`${s}.Slottable`,e.__radixId=tu,e}var[Js]=Vr("Tooltip",[vn]),ri=vn(),qo="TooltipProvider",ru=700,zi="tooltip.open",[iu,Yo]=Js(qo),Qo=s=>{const{__scopeTooltip:e,delayDuration:t=ru,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:n}=s,o=h.useRef(!0),a=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(iu,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(d=>{a.current=d},[]),disableHoverableContent:i,children:n})};Qo.displayName=qo;var Ko="Tooltip",[Qh,er]=Js(Ko),Ar="TooltipTrigger",nu=h.forwardRef((s,e)=>{const{__scopeTooltip:t,...r}=s,i=er(Ar,t),n=Yo(Ar,t),o=ri(t),a=h.useRef(null),c=He(e,a,i.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(ul,{asChild:!0,...o,children:l.jsx(Ie.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:se(s.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!n.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:se(s.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:se(s.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(s.onFocus,()=>{d.current||i.onOpen()}),onBlur:se(s.onBlur,i.onClose),onClick:se(s.onClick,i.onClose)})})});nu.displayName=Ar;var ou="TooltipPortal",[Kh,au]=Js(ou,{forceMount:void 0}),ss="TooltipContent",Jo=h.forwardRef((s,e)=>{const t=au(ss,s.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...n}=s,o=er(ss,s.__scopeTooltip);return l.jsx(ls,{present:r||o.open,children:o.disableHoverableContent?l.jsx(ea,{side:i,...n,ref:e}):l.jsx(lu,{side:i,...n,ref:e})})}),lu=h.forwardRef((s,e)=>{const t=er(ss,s.__scopeTooltip),r=Yo(ss,s.__scopeTooltip),i=h.useRef(null),n=He(e,i),[o,a]=h.useState(null),{trigger:c,onClose:d}=t,u=i.current,{onPointerInTransitChange:f}=r,m=h.useCallback(()=>{a(null),f(!1)},[f]),p=h.useCallback((w,b)=>{const v=w.currentTarget,S={x:w.clientX,y:w.clientY},x=fu(S,v.getBoundingClientRect()),_=mu(S,x),T=gu(b.getBoundingClientRect()),N=vu([..._,...T]);a(N),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const w=v=>p(v,u),b=v=>p(v,c);return c.addEventListener("pointerleave",w),u.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",b)}}},[c,u,p,m]),h.useEffect(()=>{if(o){const w=b=>{const v=b.target,S={x:b.clientX,y:b.clientY},x=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),_=!pu(S,o);x?m():_&&(m(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,u,o,d,m]),l.jsx(ea,{...s,ref:n})}),[cu,du]=Js(Ko,{isInside:!1}),uu=su("TooltipContent"),ea=h.forwardRef((s,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:n,onPointerDownOutside:o,...a}=s,c=er(ss,t),d=ri(t),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(zi,u),()=>document.removeEventListener(zi,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),l.jsx(ll,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:l.jsxs(cl,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(uu,{children:r}),l.jsx(cu,{scope:t,isInside:!0,children:l.jsx(dl,{id:c.contentId,role:"tooltip",children:i||r})})]})})});Jo.displayName=ss;var ta="TooltipArrow",hu=h.forwardRef((s,e)=>{const{__scopeTooltip:t,...r}=s,i=ri(t);return du(ta,t).isInside?null:l.jsx(hl,{...i,...r,ref:e})});hu.displayName=ta;function fu(s,e){const t=Math.abs(e.top-s.y),r=Math.abs(e.bottom-s.y),i=Math.abs(e.right-s.x),n=Math.abs(e.left-s.x);switch(Math.min(t,r,i,n)){case n:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mu(s,e,t=5){const r=[];switch(e){case"top":r.push({x:s.x-t,y:s.y+t},{x:s.x+t,y:s.y+t});break;case"bottom":r.push({x:s.x-t,y:s.y-t},{x:s.x+t,y:s.y-t});break;case"left":r.push({x:s.x+t,y:s.y-t},{x:s.x+t,y:s.y+t});break;case"right":r.push({x:s.x-t,y:s.y-t},{x:s.x-t,y:s.y+t});break}return r}function gu(s){const{top:e,right:t,bottom:r,left:i}=s;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function pu(s,e){const{x:t,y:r}=s;let i=!1;for(let n=0,o=e.length-1;n<e.length;o=n++){const a=e[n],c=e[o],d=a.x,u=a.y,f=c.x,m=c.y;u>r!=m>r&&t<(f-d)*(r-u)/(m-u)+d&&(i=!i)}return i}function vu(s){const e=s.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),yu(e)}function yu(s){if(s.length<=1)return s.slice();const e=[];for(let r=0;r<s.length;r++){const i=s[r];for(;e.length>=2;){const n=e[e.length-1],o=e[e.length-2];if((n.x-o.x)*(i.y-o.y)>=(n.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=s.length-1;r>=0;r--){const i=s[r];for(;t.length>=2;){const n=t[t.length-1],o=t[t.length-2];if((n.x-o.x)*(i.y-o.y)>=(n.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var bu=Qo,sa=Jo;const xu=bu,wu=h.forwardRef(({className:s,sideOffset:e=4,...t},r)=>l.jsx(sa,{ref:r,sideOffset:e,className:B("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...t}));wu.displayName=sa.displayName;const ii=ti("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),J=h.forwardRef(({className:s,variant:e,size:t,asChild:r=!1,...i},n)=>{const o=r?fl:"button";return l.jsx(o,{className:B(ii({variant:e,size:t,className:s})),ref:n,...i})});J.displayName="Button";function ra(){const[s,e]=h.useState("dark");h.useEffect(()=>{const r=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches,n=r||(i?"dark":"light");e(n),document.documentElement.classList.toggle("dark",n==="dark")},[]);const t=()=>{const r=s==="light"?"dark":"light";e(r),localStorage.setItem("theme",r),document.documentElement.classList.toggle("dark",r==="dark")};return l.jsx(J,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-theme-toggle",children:s==="light"?l.jsx(Il,{className:"w-5 h-5"}):l.jsx(El,{className:"w-5 h-5"})})}function Cu(s,e){return h.useReducer((t,r)=>e[t][r]??t,s)}var ni="ScrollArea",[ia]=Vr(ni),[Su,Ee]=ia(ni),na=h.forwardRef((s,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:n=600,...o}=s,[a,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(null),[p,w]=h.useState(null),[b,v]=h.useState(null),[S,x]=h.useState(0),[_,T]=h.useState(0),[N,M]=h.useState(!1),[Z,H]=h.useState(!1),E=He(e,A=>c(A)),y=ml(i);return l.jsx(Su,{scope:t,type:r,dir:y,scrollHideDelay:n,scrollArea:a,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:M,scrollbarY:b,onScrollbarYChange:v,scrollbarYEnabled:Z,onScrollbarYEnabledChange:H,onCornerWidthChange:x,onCornerHeightChange:T,children:l.jsx(Ie.div,{dir:y,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":_+"px",...s.style}})})});na.displayName=ni;var oa="ScrollAreaViewport",aa=h.forwardRef((s,e)=>{const{__scopeScrollArea:t,children:r,nonce:i,...n}=s,o=Ee(oa,t),a=h.useRef(null),c=He(e,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...n,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...s.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});aa.displayName=oa;var Ge="ScrollAreaScrollbar",oi=h.forwardRef((s,e)=>{const{forceMount:t,...r}=s,i=Ee(Ge,s.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:o}=i,a=s.orientation==="horizontal";return h.useEffect(()=>(a?n(!0):o(!0),()=>{a?n(!1):o(!1)}),[a,n,o]),i.type==="hover"?l.jsx(Tu,{...r,ref:e,forceMount:t}):i.type==="scroll"?l.jsx(_u,{...r,ref:e,forceMount:t}):i.type==="auto"?l.jsx(la,{...r,ref:e,forceMount:t}):i.type==="always"?l.jsx(ai,{...r,ref:e}):null});oi.displayName=Ge;var Tu=h.forwardRef((s,e)=>{const{forceMount:t,...r}=s,i=Ee(Ge,s.__scopeScrollArea),[n,o]=h.useState(!1);return h.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",d),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",d),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(ls,{present:t||n,children:l.jsx(la,{"data-state":n?"visible":"hidden",...r,ref:e})})}),_u=h.forwardRef((s,e)=>{const{forceMount:t,...r}=s,i=Ee(Ge,s.__scopeScrollArea),n=s.orientation==="horizontal",o=sr(()=>c("SCROLL_END"),100),[a,c]=Cu("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(a==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[a,i.scrollHideDelay,c]),h.useEffect(()=>{const d=i.viewport,u=n?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const p=d[u];f!==p&&(c("SCROLL"),o()),f=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,n,c,o]),l.jsx(ls,{present:t||a!=="hidden",children:l.jsx(ai,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:se(s.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:se(s.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),la=h.forwardRef((s,e)=>{const t=Ee(Ge,s.__scopeScrollArea),{forceMount:r,...i}=s,[n,o]=h.useState(!1),a=s.orientation==="horizontal",c=sr(()=>{if(t.viewport){const d=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;o(a?d:u)}},10);return rs(t.viewport,c),rs(t.content,c),l.jsx(ls,{present:r||n,children:l.jsx(ai,{"data-state":n?"visible":"hidden",...i,ref:e})})}),ai=h.forwardRef((s,e)=>{const{orientation:t="vertical",...r}=s,i=Ee(Ge,s.__scopeScrollArea),n=h.useRef(null),o=h.useRef(0),[a,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=fa(a.viewport,a.content),u={...r,sizes:a,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>n.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return Pu(m,o.current,a,p)}return t==="horizontal"?l.jsx(Iu,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&n.current){const m=i.viewport.scrollLeft,p=Fi(m,a,i.dir);n.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=f(m,i.dir))}}):t==="vertical"?l.jsx(Eu,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&n.current){const m=i.viewport.scrollTop,p=Fi(m,a);n.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=f(m))}}):null}),Iu=h.forwardRef((s,e)=>{const{sizes:t,onSizesChange:r,...i}=s,n=Ee(Ge,s.__scopeScrollArea),[o,a]=h.useState(),c=h.useRef(null),d=He(e,c,n.onScrollbarXChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(da,{"data-orientation":"horizontal",...i,ref:d,sizes:t,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":tr(t)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.x),onDragScroll:u=>s.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(n.viewport){const m=n.viewport.scrollLeft+u.deltaX;s.onWheelScroll(m),ga(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&n.viewport&&o&&r({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Hs(o.paddingLeft),paddingEnd:Hs(o.paddingRight)}})}})}),Eu=h.forwardRef((s,e)=>{const{sizes:t,onSizesChange:r,...i}=s,n=Ee(Ge,s.__scopeScrollArea),[o,a]=h.useState(),c=h.useRef(null),d=He(e,c,n.onScrollbarYChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(da,{"data-orientation":"vertical",...i,ref:d,sizes:t,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":tr(t)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.y),onDragScroll:u=>s.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(n.viewport){const m=n.viewport.scrollTop+u.deltaY;s.onWheelScroll(m),ga(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&n.viewport&&o&&r({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Hs(o.paddingTop),paddingEnd:Hs(o.paddingBottom)}})}})}),[ku,ca]=ia(Ge),da=h.forwardRef((s,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:n,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=s,p=Ee(Ge,t),[w,b]=h.useState(null),v=He(e,E=>b(E)),S=h.useRef(null),x=h.useRef(""),_=p.viewport,T=r.content-r.viewport,N=Oe(u),M=Oe(c),Z=sr(f,10);function H(E){if(S.current){const y=E.clientX-S.current.left,A=E.clientY-S.current.top;d({x:y,y:A})}}return h.useEffect(()=>{const E=y=>{const A=y.target;(w==null?void 0:w.contains(A))&&N(y,T)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[_,w,T,N]),h.useEffect(M,[r,M]),rs(w,Z),rs(p.content,Z),l.jsx(ku,{scope:t,scrollbar:w,hasThumb:i,onThumbChange:Oe(n),onThumbPointerUp:Oe(o),onThumbPositionChange:M,onThumbPointerDown:Oe(a),children:l.jsx(Ie.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:se(s.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),S.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),H(E))}),onPointerMove:se(s.onPointerMove,H),onPointerUp:se(s.onPointerUp,E=>{const y=E.target;y.hasPointerCapture(E.pointerId)&&y.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),S.current=null})})})}),Bs="ScrollAreaThumb",ua=h.forwardRef((s,e)=>{const{forceMount:t,...r}=s,i=ca(Bs,s.__scopeScrollArea);return l.jsx(ls,{present:t||i.hasThumb,children:l.jsx(ju,{ref:e,...r})})}),ju=h.forwardRef((s,e)=>{const{__scopeScrollArea:t,style:r,...i}=s,n=Ee(Bs,t),o=ca(Bs,t),{onThumbPositionChange:a}=o,c=He(e,f=>o.onThumbChange(f)),d=h.useRef(void 0),u=sr(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const f=n.viewport;if(f){const m=()=>{if(u(),!d.current){const p=Nu(f,a);d.current=p,a()}};return a(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[n.viewport,u,a]),l.jsx(Ie.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(s.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,b=f.clientY-p.top;o.onThumbPointerDown({x:w,y:b})}),onPointerUp:se(s.onPointerUp,o.onThumbPointerUp)})});ua.displayName=Bs;var li="ScrollAreaCorner",ha=h.forwardRef((s,e)=>{const t=Ee(li,s.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?l.jsx(Ru,{...s,ref:e}):null});ha.displayName=li;var Ru=h.forwardRef((s,e)=>{const{__scopeScrollArea:t,...r}=s,i=Ee(li,t),[n,o]=h.useState(0),[a,c]=h.useState(0),d=!!(n&&a);return rs(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),rs(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),d?l.jsx(Ie.div,{...r,ref:e,style:{width:n,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function Hs(s){return s?parseInt(s,10):0}function fa(s,e){const t=s/e;return isNaN(t)?0:t}function tr(s){const e=fa(s.viewport,s.content),t=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,r=(s.scrollbar.size-t)*e;return Math.max(r,18)}function Pu(s,e,t,r="ltr"){const i=tr(t),n=i/2,o=e||n,a=i-o,c=t.scrollbar.paddingStart+o,d=t.scrollbar.size-t.scrollbar.paddingEnd-a,u=t.content-t.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return ma([c,d],f)(s)}function Fi(s,e,t="ltr"){const r=tr(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=e.scrollbar.size-i,o=e.content-e.viewport,a=n-r,c=t==="ltr"?[0,o]:[o*-1,0],d=gl(s,c);return ma([0,o],[0,a])(d)}function ma(s,e){return t=>{if(s[0]===s[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(s[1]-s[0]);return e[0]+r*(t-s[0])}}function ga(s,e){return s>0&&s<e}var Nu=(s,e=()=>{})=>{let t={left:s.scrollLeft,top:s.scrollTop},r=0;return function i(){const n={left:s.scrollLeft,top:s.scrollTop},o=t.left!==n.left,a=t.top!==n.top;(o||a)&&e(),t=n,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function sr(s,e){const t=Oe(s),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function rs(s,e){const t=Oe(e);pn(()=>{let r=0;if(s){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(s),()=>{window.cancelAnimationFrame(r),i.unobserve(s)}}},[s,t])}var pa=na,Ou=aa,Au=ha;const va=h.forwardRef(({className:s,children:e,...t},r)=>l.jsxs(pa,{ref:r,className:B("relative overflow-hidden",s),...t,children:[l.jsx(Ou,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(ci,{}),l.jsx(Au,{})]}));va.displayName=pa.displayName;const ci=h.forwardRef(({className:s,orientation:e="vertical",...t},r)=>l.jsx(oi,{ref:r,orientation:e,className:B("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...t,children:l.jsx(ua,{className:"relative flex-1 rounded-full bg-border"})}));ci.displayName=oi.displayName;const ya=vl,ba=yl,Lu=h.forwardRef(({className:s,inset:e,children:t,...r},i)=>l.jsxs(yn,{ref:i,className:B("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",s),...r,children:[t,l.jsx(Gn,{className:"ml-auto"})]}));Lu.displayName=yn.displayName;const Du=h.forwardRef(({className:s,...e},t)=>l.jsx(bn,{ref:t,className:B("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...e}));Du.displayName=bn.displayName;const di=h.forwardRef(({className:s,sideOffset:e=4,...t},r)=>l.jsx(pl,{children:l.jsx(xn,{ref:r,sideOffset:e,className:B("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...t})}));di.displayName=xn.displayName;const wt=h.forwardRef(({className:s,inset:e,...t},r)=>l.jsx(wn,{ref:r,className:B("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",s),...t}));wt.displayName=wn.displayName;const Mu=h.forwardRef(({className:s,children:e,checked:t,...r},i)=>l.jsxs(Cn,{ref:i,className:B("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:t,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Sn,{children:l.jsx(kl,{className:"h-4 w-4"})})}),e]}));Mu.displayName=Cn.displayName;const zu=h.forwardRef(({className:s,children:e,...t},r)=>l.jsxs(Tn,{ref:r,className:B("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Sn,{children:l.jsx(jl,{className:"h-2 w-2 fill-current"})})}),e]}));zu.displayName=Tn.displayName;const Fu=h.forwardRef(({className:s,inset:e,...t},r)=>l.jsx(_n,{ref:r,className:B("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",s),...t}));Fu.displayName=_n.displayName;const Lr=h.forwardRef(({className:s,...e},t)=>l.jsx(In,{ref:t,className:B("-mx-1 my-1 h-px bg-muted",s),...e}));Lr.displayName=In.displayName;function $u({pages:s,activePage:e,onPageChange:t,onAddPage:r,onEditPage:i,onDeletePage:n,onCopyLink:o,onOpenPreview:a}){return l.jsx("div",{className:"border-b border-border bg-card",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-8 flex items-center gap-4",children:[l.jsxs(va,{className:"flex-1",children:[l.jsx("div",{className:"flex items-center gap-2 py-3",children:s.map(c=>l.jsxs("div",{className:"flex items-center gap-1 group",children:[l.jsx(J,{variant:e===c.id?"secondary":"ghost",size:"sm",onClick:()=>t(c.id),className:"rounded-full px-6","data-testid":`tab-page-${c.id}`,children:c.name}),l.jsxs(ya,{children:[l.jsx(ba,{asChild:!0,children:l.jsx(J,{variant:"ghost",size:"icon",className:"w-6 h-6 opacity-0 group-hover:opacity-100 transition-opacity","data-testid":`button-page-menu-${c.id}`,children:l.jsx(Vn,{className:"w-4 h-4"})})}),l.jsxs(di,{align:"start","data-testid":`menu-page-actions-${c.id}`,children:[l.jsxs(wt,{onClick:()=>o(c.id),"data-testid":`menu-item-copy-link-${c.id}`,children:[l.jsx(Rl,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),l.jsxs(wt,{onClick:()=>a(c.id),"data-testid":`menu-item-open-preview-${c.id}`,children:[l.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Open Preview"]}),l.jsx(Lr,{}),l.jsxs(wt,{onClick:()=>i(c.id),"data-testid":`menu-item-edit-${c.id}`,children:[l.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Rename"]}),s.length>1&&l.jsxs(l.Fragment,{children:[l.jsx(Lr,{}),l.jsxs(wt,{onClick:()=>n(c.id),className:"text-destructive focus:text-destructive","data-testid":`menu-item-delete-${c.id}`,children:[l.jsx(gr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]},c.id))}),l.jsx(ci,{orientation:"horizontal"})]}),l.jsx(J,{variant:"ghost",size:"icon",onClick:r,className:"flex-shrink-0 w-8 h-8 rounded-full","data-testid":"button-add-page-tab",children:l.jsx(Ls,{className:"w-4 h-4"})})]})})}const Gs=h.forwardRef(({className:s,...e},t)=>l.jsx("div",{ref:t,className:B("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",s),...e}));Gs.displayName="Card";const Bu=h.forwardRef(({className:s,...e},t)=>l.jsx("div",{ref:t,className:B("flex flex-col space-y-1.5 p-6",s),...e}));Bu.displayName="CardHeader";const Hu=h.forwardRef(({className:s,...e},t)=>l.jsx("div",{ref:t,className:B("text-2xl font-semibold leading-none tracking-tight",s),...e}));Hu.displayName="CardTitle";const Gu=h.forwardRef(({className:s,...e},t)=>l.jsx("div",{ref:t,className:B("text-sm text-muted-foreground",s),...e}));Gu.displayName="CardDescription";const xa=h.forwardRef(({className:s,...e},t)=>l.jsx("div",{ref:t,className:B("p-6 pt-0",s),...e}));xa.displayName="CardContent";const Vu=h.forwardRef(({className:s,...e},t)=>l.jsx("div",{ref:t,className:B("flex items-center p-6 pt-0",s),...e}));Vu.displayName="CardFooter";function wa({title:s,images:e,onImageClick:t,onEditRow:r,onDeleteRow:i,onAddImage:n,onEditImage:o,onDeleteImage:a,isPreviewMode:c=!1}){const d=h.useRef(null),[u,f]=h.useState(!1),[m,p]=h.useState(!1),[w,b]=h.useState(null),v=()=>{if(d.current){const{scrollLeft:x,scrollWidth:_,clientWidth:T}=d.current;f(x>10),p(x<_-T-10)}};h.useEffect(()=>{v();const x=d.current;if(x)return x.addEventListener("scroll",v),window.addEventListener("resize",v),()=>{x.removeEventListener("scroll",v),window.removeEventListener("resize",v)}},[e]);const S=x=>{if(d.current){const _=d.current.clientWidth/2;d.current.scrollBy({left:x==="left"?-_:_,behavior:"smooth"})}};return l.jsxs("div",{className:"py-8 border-b border-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 px-8",children:[l.jsx("h2",{className:"title-text font-semibold","data-testid":"text-row-title",children:s}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[l.jsx(J,{variant:"ghost",size:"icon",onClick:()=>S("left"),disabled:!u,className:"w-10 h-10 glass-button","data-testid":"button-scroll-left",children:l.jsx(Ol,{className:"w-5 h-5"})}),l.jsx(J,{variant:"ghost",size:"icon",onClick:()=>S("right"),disabled:!m,className:"w-10 h-10 glass-button","data-testid":"button-scroll-right",children:l.jsx(Gn,{className:"w-5 h-5"})})]}),!c&&l.jsxs(ya,{children:[l.jsx(ba,{asChild:!0,children:l.jsx(J,{variant:"ghost",size:"icon",className:"w-10 h-10 glass-button","data-testid":"button-row-menu",children:l.jsx(Vn,{className:"w-5 h-5"})})}),l.jsxs(di,{align:"end",className:"glass",children:[l.jsxs(wt,{onClick:r,"data-testid":"menu-edit-row",children:[l.jsx(mi,{className:"w-4 h-4 mr-2"}),"Edit Row"]}),l.jsxs(wt,{onClick:i,className:"text-destructive","data-testid":"menu-delete-row",children:[l.jsx(gr,{className:"w-4 h-4 mr-2"}),"Delete Row"]})]})]})]})]}),l.jsxs("div",{ref:d,className:"flex overflow-x-auto gap-4 px-8 pb-4 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:[e.map((x,_)=>l.jsxs("div",{className:"flex-shrink-0 w-[200px] md:w-[240px] group",onMouseEnter:()=>b(x.id),onMouseLeave:()=>b(null),"data-testid":`card-image-${_}`,children:[l.jsx(Gs,{className:"overflow-hidden glass-card transition-all duration-300",children:l.jsxs("div",{className:"relative aspect-square cursor-pointer overflow-hidden",onClick:()=>t==null?void 0:t(x,_),children:[l.jsx("img",{src:x.url,alt:x.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105","data-testid":`img-item-${_}`}),w===x.id&&!c&&l.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center gap-2 transition-opacity duration-200",children:[l.jsx(J,{variant:"secondary",size:"icon",className:"w-8 h-8 glass-button",onClick:T=>{T.stopPropagation(),o==null||o(x.id)},"data-testid":`button-edit-image-${_}`,children:l.jsx(mi,{className:"w-4 h-4"})}),l.jsx(J,{variant:"destructive",size:"icon",className:"w-8 h-8 glass-button",onClick:T=>{T.stopPropagation(),a==null||a(x.id)},"data-testid":`button-delete-image-${_}`,children:l.jsx(gr,{className:"w-4 h-4"})})]})]})}),l.jsxs("div",{className:"mt-3 px-1",children:[l.jsx("h3",{className:"image-title-text font-medium truncate","data-testid":`text-title-${_}`,children:x.title}),x.subtitle&&l.jsx("p",{className:"description-text text-muted-foreground truncate","data-testid":`text-subtitle-${_}`,children:x.subtitle})]})]},x.id)),!c&&l.jsx("div",{className:"flex-shrink-0 w-[200px] md:w-[240px] cursor-pointer",onClick:n,"data-testid":"button-add-image-card",children:l.jsx(Gs,{className:"aspect-square border-2 border-dashed glass-card transition-all duration-300 flex items-center justify-center border-white/20",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full glass mx-auto mb-2 flex items-center justify-center",children:l.jsx("span",{className:"text-2xl text-foreground",children:"+"})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Add Image"})]})})})]}),l.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `})]})}const hs=wl,Zu=bl,Ca=h.forwardRef(({className:s,...e},t)=>l.jsx(En,{ref:t,className:B("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...e}));Ca.displayName=En.displayName;const At=h.forwardRef(({className:s,children:e,...t},r)=>l.jsxs(Zu,{children:[l.jsx(Ca,{}),l.jsxs(kn,{ref:r,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[e,l.jsxs(xl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Hn,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));At.displayName=kn.displayName;const Lt=({className:s,...e})=>l.jsx("div",{className:B("flex flex-col space-y-1.5 text-center sm:text-left",s),...e});Lt.displayName="DialogHeader";const Dt=({className:s,...e})=>l.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...e});Dt.displayName="DialogFooter";const Mt=h.forwardRef(({className:s,...e},t)=>l.jsx(jn,{ref:t,className:B("text-lg font-semibold leading-none tracking-tight",s),...e}));Mt.displayName=jn.displayName;const zt=h.forwardRef(({className:s,...e},t)=>l.jsx(Rn,{ref:t,className:B("text-sm text-muted-foreground",s),...e}));zt.displayName=Rn.displayName;const Ae=h.forwardRef(({className:s,type:e,...t},r)=>l.jsx("input",{type:e,className:B("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...t}));Ae.displayName="Input";const Uu=ti("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=h.forwardRef(({className:s,...e},t)=>l.jsx(Pn,{ref:t,className:B(Uu(),s),...e}));xe.displayName=Pn.displayName;const Wu=Cl,Sa=h.forwardRef(({className:s,...e},t)=>l.jsx(Nn,{ref:t,className:B("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...e}));Sa.displayName=Nn.displayName;const Dr=h.forwardRef(({className:s,...e},t)=>l.jsx(On,{ref:t,className:B("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...e}));Dr.displayName=On.displayName;const Mr=h.forwardRef(({className:s,...e},t)=>l.jsx(An,{ref:t,className:B("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...e}));Mr.displayName=An.displayName;async function Xu(s){const e=new FormData;e.append("file",s);const t=await fetch("/api/upload",{method:"POST",body:e,credentials:"include"});if(!t.ok){const r=await t.text()||t.statusText;throw new Error(`${t.status}: ${r}`)}return t.json()}var Q;(function(s){s.assertEqual=i=>{};function e(i){}s.assertIs=e;function t(i){throw new Error}s.assertNever=t,s.arrayToEnum=i=>{const n={};for(const o of i)n[o]=o;return n},s.getValidEnumValues=i=>{const n=s.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of n)o[a]=i[a];return s.objectValues(o)},s.objectValues=i=>s.objectKeys(i).map(function(n){return i[n]}),s.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const n=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.push(o);return n},s.find=(i,n)=>{for(const o of i)if(n(o))return o},s.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,n=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(n)}s.joinValues=r,s.jsonStringifyReplacer=(i,n)=>typeof n=="bigint"?n.toString():n})(Q||(Q={}));var $i;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})($i||($i={}));const P=Q.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),st=s=>{switch(typeof s){case"undefined":return P.undefined;case"string":return P.string;case"number":return Number.isNaN(s)?P.nan:P.number;case"boolean":return P.boolean;case"function":return P.function;case"bigint":return P.bigint;case"symbol":return P.symbol;case"object":return Array.isArray(s)?P.array:s===null?P.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?P.promise:typeof Map<"u"&&s instanceof Map?P.map:typeof Set<"u"&&s instanceof Set?P.set:typeof Date<"u"&&s instanceof Date?P.date:P.object;default:return P.unknown}},k=Q.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Le extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(n){return n.message},r={_errors:[]},i=n=>{for(const o of n.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(t(o))):a[d]=a[d]||{_errors:[]},a=a[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Le))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Q.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)if(i.path.length>0){const n=i.path[0];t[n]=t[n]||[],t[n].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Le.create=s=>new Le(s);const zr=(s,e)=>{let t;switch(s.code){case k.invalid_type:s.received===P.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case k.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,Q.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:t=`Unrecognized key(s) in object: ${Q.joinValues(s.keys,", ")}`;break;case k.invalid_union:t="Invalid input";break;case k.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Q.joinValues(s.options)}`;break;case k.invalid_enum_value:t=`Invalid enum value. Expected ${Q.joinValues(s.options)}, received '${s.received}'`;break;case k.invalid_arguments:t="Invalid function arguments";break;case k.invalid_return_type:t="Invalid function return type";break;case k.invalid_date:t="Invalid date";break;case k.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:Q.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case k.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case k.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case k.custom:t="Invalid input";break;case k.invalid_intersection_types:t="Intersection results could not be merged";break;case k.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case k.not_finite:t="Number must be finite";break;default:t=e.defaultError,Q.assertNever(s)}return{message:t}};let qu=zr;function Yu(){return qu}const Qu=s=>{const{data:e,path:t,errorMaps:r,issueData:i}=s,n=[...t,...i.path||[]],o={...i,path:n};if(i.message!==void 0)return{...i,path:n,message:i.message};let a="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)a=d(o,{data:e,defaultError:a}).message;return{...i,path:n,message:a}};function R(s,e){const t=Yu(),r=Qu({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===zr?void 0:zr].filter(i=>!!i)});s.common.issues.push(r)}class we{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return F;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const n=await i.key,o=await i.value;r.push({key:n,value:o})}return we.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:n,value:o}=i;if(n.status==="aborted"||o.status==="aborted")return F;n.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[n.value]=o.value)}return{status:e.value,value:r}}}const F=Object.freeze({status:"aborted"}),bs=s=>({status:"dirty",value:s}),ke=s=>({status:"valid",value:s}),Bi=s=>s.status==="aborted",Hi=s=>s.status==="dirty",is=s=>s.status==="valid",Vs=s=>typeof Promise<"u"&&s instanceof Promise;var O;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(O||(O={}));class pt{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gi=(s,e)=>{if(is(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Le(s.common.issues);return this._error=t,this._error}}};function U(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=s;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:c}=s;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??t??a.defaultError}},description:i}}class q{get description(){return this._def.description}_getType(e){return st(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:st(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new we,ctx:{common:e.parent.common,data:e.data,parsedType:st(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Vs(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:st(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Gi(r,i)}"~validate"(e){var r,i;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:st(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return is(n)?{value:n.value}:{issues:t.common.issues}}catch(n){(i=(r=n==null?void 0:n.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(n=>is(n)?{value:n.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:st(e)},i=this._parse({data:e,path:r.path,parent:r}),n=await(Vs(i)?i:Promise.resolve(i));return Gi(r,n)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,n)=>{const o=e(i),a=()=>n.addIssue({code:k.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new os({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return gt.create(this,this._def)}nullable(){return as.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Be.create(this)}promise(){return Xs.create(this,this._def)}or(e){return Us.create([this,e],this._def)}and(e){return Ws.create(this,e,this._def)}transform(e){return new os({...U(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new $r({...U(this._def),innerType:this,defaultValue:t,typeName:$.ZodDefault})}brand(){return new xh({typeName:$.ZodBranded,type:this,...U(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Br({...U(this._def),innerType:this,catchValue:t,typeName:$.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ui.create(this,e)}readonly(){return Hr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ku=/^c[^\s-]{8,}$/i,Ju=/^[0-9a-z]+$/,eh=/^[0-9A-HJKMNP-TV-Z]{26}$/i,th=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sh=/^[a-z0-9_-]{21}$/i,rh=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ih=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oh="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hr;const ah=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ch=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dh=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hh=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ta="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fh=new RegExp(`^${Ta}$`);function _a(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function mh(s){return new RegExp(`^${_a(s)}$`)}function gh(s){let e=`${Ta}T${_a(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ph(s,e){return!!((e==="v4"||!e)&&ah.test(s)||(e==="v6"||!e)&&ch.test(s))}function vh(s,e){if(!rh.test(s))return!1;try{const[t]=s.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function yh(s,e){return!!((e==="v4"||!e)&&lh.test(s)||(e==="v6"||!e)&&dh.test(s))}class ft extends q{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==P.string){const n=this._getOrReturnCtx(e);return R(n,{code:k.invalid_type,expected:P.string,received:n.parsedType}),F}const r=new we;let i;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:k.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")e.data.length>n.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:k.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){const o=e.data.length>n.value,a=e.data.length<n.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?R(i,{code:k.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):a&&R(i,{code:k.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")nh.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"email",code:k.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")hr||(hr=new RegExp(oh,"u")),hr.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"emoji",code:k.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")th.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"uuid",code:k.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")sh.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"nanoid",code:k.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")Ku.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"cuid",code:k.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")Ju.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"cuid2",code:k.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")eh.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"ulid",code:k.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),R(i,{validation:"url",code:k.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"regex",code:k.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(i=this._getOrReturnCtx(e,i),R(i,{code:k.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(i=this._getOrReturnCtx(e,i),R(i,{code:k.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(i=this._getOrReturnCtx(e,i),R(i,{code:k.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?gh(n).test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{code:k.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?fh.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{code:k.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?mh(n).test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{code:k.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?ih.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"duration",code:k.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?ph(e.data,n.version)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"ip",code:k.invalid_string,message:n.message}),r.dirty()):n.kind==="jwt"?vh(e.data,n.alg)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"jwt",code:k.invalid_string,message:n.message}),r.dirty()):n.kind==="cidr"?yh(e.data,n.version)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"cidr",code:k.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?uh.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"base64",code:k.invalid_string,message:n.message}),r.dirty()):n.kind==="base64url"?hh.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"base64url",code:k.invalid_string,message:n.message}),r.dirty()):Q.assertNever(n);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:k.invalid_string,...O.errToObj(r)})}_addCheck(e){return new ft({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...O.errToObj(e)})}url(e){return this._addCheck({kind:"url",...O.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...O.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...O.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...O.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...O.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...O.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...O.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...O.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...O.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...O.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...O.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...O.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...O.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...O.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...O.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...O.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...O.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...O.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...O.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...O.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...O.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...O.errToObj(t)})}nonempty(e){return this.min(1,O.errToObj(e))}trim(){return new ft({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ft({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ft({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ft.create=s=>new ft({checks:[],typeName:$.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...U(s)});function bh(s,e){const t=(s.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,n=Number.parseInt(s.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return n%o/10**i}class Cs extends q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==P.number){const n=this._getOrReturnCtx(e);return R(n,{code:k.invalid_type,expected:P.number,received:n.parsedType}),F}let r;const i=new we;for(const n of this._def.checks)n.kind==="int"?Q.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{code:k.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:k.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:k.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="multipleOf"?bh(e.data,n.value)!==0&&(r=this._getOrReturnCtx(e,r),R(r,{code:k.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{code:k.not_finite,message:n.message}),i.dirty()):Q.assertNever(n);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,O.toString(t))}gt(e,t){return this.setLimit("min",e,!1,O.toString(t))}lte(e,t){return this.setLimit("max",e,!0,O.toString(t))}lt(e,t){return this.setLimit("max",e,!1,O.toString(t))}setLimit(e,t,r,i){return new Cs({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:O.toString(i)}]})}_addCheck(e){return new Cs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:O.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:O.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:O.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:O.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:O.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:O.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:O.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:O.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:O.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Q.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Cs.create=s=>new Cs({checks:[],typeName:$.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...U(s)});class Ss extends q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==P.bigint)return this._getInvalidInput(e);let r;const i=new we;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:k.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:k.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),R(r,{code:k.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):Q.assertNever(n);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return R(t,{code:k.invalid_type,expected:P.bigint,received:t.parsedType}),F}gte(e,t){return this.setLimit("min",e,!0,O.toString(t))}gt(e,t){return this.setLimit("min",e,!1,O.toString(t))}lte(e,t){return this.setLimit("max",e,!0,O.toString(t))}lt(e,t){return this.setLimit("max",e,!1,O.toString(t))}setLimit(e,t,r,i){return new Ss({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:O.toString(i)}]})}_addCheck(e){return new Ss({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:O.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:O.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:O.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:O.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:O.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ss.create=s=>new Ss({checks:[],typeName:$.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...U(s)});class Vi extends q{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==P.boolean){const r=this._getOrReturnCtx(e);return R(r,{code:k.invalid_type,expected:P.boolean,received:r.parsedType}),F}return ke(e.data)}}Vi.create=s=>new Vi({typeName:$.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...U(s)});class Zs extends q{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==P.date){const n=this._getOrReturnCtx(e);return R(n,{code:k.invalid_type,expected:P.date,received:n.parsedType}),F}if(Number.isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return R(n,{code:k.invalid_date}),F}const r=new we;let i;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:k.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:k.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):Q.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zs({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:O.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:O.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Zs.create=s=>new Zs({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:$.ZodDate,...U(s)});class Zi extends q{_parse(e){if(this._getType(e)!==P.symbol){const r=this._getOrReturnCtx(e);return R(r,{code:k.invalid_type,expected:P.symbol,received:r.parsedType}),F}return ke(e.data)}}Zi.create=s=>new Zi({typeName:$.ZodSymbol,...U(s)});class Ui extends q{_parse(e){if(this._getType(e)!==P.undefined){const r=this._getOrReturnCtx(e);return R(r,{code:k.invalid_type,expected:P.undefined,received:r.parsedType}),F}return ke(e.data)}}Ui.create=s=>new Ui({typeName:$.ZodUndefined,...U(s)});class Wi extends q{_parse(e){if(this._getType(e)!==P.null){const r=this._getOrReturnCtx(e);return R(r,{code:k.invalid_type,expected:P.null,received:r.parsedType}),F}return ke(e.data)}}Wi.create=s=>new Wi({typeName:$.ZodNull,...U(s)});class Xi extends q{constructor(){super(...arguments),this._any=!0}_parse(e){return ke(e.data)}}Xi.create=s=>new Xi({typeName:$.ZodAny,...U(s)});class qi extends q{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ke(e.data)}}qi.create=s=>new qi({typeName:$.ZodUnknown,...U(s)});class vt extends q{_parse(e){const t=this._getOrReturnCtx(e);return R(t,{code:k.invalid_type,expected:P.never,received:t.parsedType}),F}}vt.create=s=>new vt({typeName:$.ZodNever,...U(s)});class Yi extends q{_parse(e){if(this._getType(e)!==P.undefined){const r=this._getOrReturnCtx(e);return R(r,{code:k.invalid_type,expected:P.void,received:r.parsedType}),F}return ke(e.data)}}Yi.create=s=>new Yi({typeName:$.ZodVoid,...U(s)});class Be extends q{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==P.array)return R(t,{code:k.invalid_type,expected:P.array,received:t.parsedType}),F;if(i.exactLength!==null){const o=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(o||a)&&(R(t,{code:o?k.too_big:k.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(R(t,{code:k.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(R(t,{code:k.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>i.type._parseAsync(new pt(t,o,t.path,a)))).then(o=>we.mergeArray(r,o));const n=[...t.data].map((o,a)=>i.type._parseSync(new pt(t,o,t.path,a)));return we.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new Be({...this._def,minLength:{value:e,message:O.toString(t)}})}max(e,t){return new Be({...this._def,maxLength:{value:e,message:O.toString(t)}})}length(e,t){return new Be({...this._def,exactLength:{value:e,message:O.toString(t)}})}nonempty(e){return this.min(1,e)}}Be.create=(s,e)=>new Be({type:s,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...U(e)});function $t(s){if(s instanceof oe){const e={};for(const t in s.shape){const r=s.shape[t];e[t]=gt.create($t(r))}return new oe({...s._def,shape:()=>e})}else return s instanceof Be?new Be({...s._def,type:$t(s.element)}):s instanceof gt?gt.create($t(s.unwrap())):s instanceof as?as.create($t(s.unwrap())):s instanceof Ot?Ot.create(s.items.map(e=>$t(e))):s}class oe extends q{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Q.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==P.object){const d=this._getOrReturnCtx(e);return R(d,{code:k.invalid_type,expected:P.object,received:d.parsedType}),F}const{status:r,ctx:i}=this._processInputParams(e),{shape:n,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof vt&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||a.push(d);const c=[];for(const d of o){const u=n[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new pt(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof vt){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")a.length>0&&(R(i,{code:k.unrecognized_keys,keys:a}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of a){const f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new pt(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>we.mergeObjectSync(r,d)):we.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return O.errToObj,new oe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var n,o;const i=((o=(n=this._def).errorMap)==null?void 0:o.call(n,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:O.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new oe({...this._def,unknownKeys:"strip"})}passthrough(){return new oe({...this._def,unknownKeys:"passthrough"})}extend(e){return new oe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new oe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new oe({...this._def,catchall:e})}pick(e){const t={};for(const r of Q.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new oe({...this._def,shape:()=>t})}omit(e){const t={};for(const r of Q.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new oe({...this._def,shape:()=>t})}deepPartial(){return $t(this)}partial(e){const t={};for(const r of Q.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new oe({...this._def,shape:()=>t})}required(e){const t={};for(const r of Q.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let n=this.shape[r];for(;n instanceof gt;)n=n._def.innerType;t[r]=n}return new oe({...this._def,shape:()=>t})}keyof(){return Ia(Q.objectKeys(this.shape))}}oe.create=(s,e)=>new oe({shape:()=>s,unknownKeys:"strip",catchall:vt.create(),typeName:$.ZodObject,...U(e)});oe.strictCreate=(s,e)=>new oe({shape:()=>s,unknownKeys:"strict",catchall:vt.create(),typeName:$.ZodObject,...U(e)});oe.lazycreate=(s,e)=>new oe({shape:s,unknownKeys:"strip",catchall:vt.create(),typeName:$.ZodObject,...U(e)});class Us extends q{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(n){for(const a of n)if(a.result.status==="valid")return a.result;for(const a of n)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=n.map(a=>new Le(a.ctx.common.issues));return R(t,{code:k.invalid_union,unionErrors:o}),F}if(t.common.async)return Promise.all(r.map(async n=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await n._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let n;const o=[];for(const c of r){const d={...t,common:{...t.common,issues:[]},parent:null},u=c._parseSync({data:t.data,path:t.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!n&&(n={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(n)return t.common.issues.push(...n.ctx.common.issues),n.result;const a=o.map(c=>new Le(c));return R(t,{code:k.invalid_union,unionErrors:a}),F}}get options(){return this._def.options}}Us.create=(s,e)=>new Us({options:s,typeName:$.ZodUnion,...U(e)});function Fr(s,e){const t=st(s),r=st(e);if(s===e)return{valid:!0,data:s};if(t===P.object&&r===P.object){const i=Q.objectKeys(e),n=Q.objectKeys(s).filter(a=>i.indexOf(a)!==-1),o={...s,...e};for(const a of n){const c=Fr(s[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(t===P.array&&r===P.array){if(s.length!==e.length)return{valid:!1};const i=[];for(let n=0;n<s.length;n++){const o=s[n],a=e[n],c=Fr(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return t===P.date&&r===P.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Ws extends q{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(n,o)=>{if(Bi(n)||Bi(o))return F;const a=Fr(n.value,o.value);return a.valid?((Hi(n)||Hi(o))&&t.dirty(),{status:t.value,value:a.data}):(R(r,{code:k.invalid_intersection_types}),F)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([n,o])=>i(n,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ws.create=(s,e,t)=>new Ws({left:s,right:e,typeName:$.ZodIntersection,...U(t)});class Ot extends q{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==P.array)return R(r,{code:k.invalid_type,expected:P.array,received:r.parsedType}),F;if(r.data.length<this._def.items.length)return R(r,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),F;!this._def.rest&&r.data.length>this._def.items.length&&(R(r,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new pt(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(n).then(o=>we.mergeArray(t,o)):we.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Ot({...this._def,rest:e})}}Ot.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ot({items:s,typeName:$.ZodTuple,rest:null,...U(e)})};class Qi extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==P.map)return R(r,{code:k.invalid_type,expected:P.map,received:r.parsedType}),F;const i=this._def.keyType,n=this._def.valueType,o=[...r.data.entries()].map(([a,c],d)=>({key:i._parse(new pt(r,a,r.path,[d,"key"])),value:n._parse(new pt(r,c,r.path,[d,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return F;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(d.value,u.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return F;(d.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(d.value,u.value)}return{status:t.value,value:a}}}}Qi.create=(s,e,t)=>new Qi({valueType:e,keyType:s,typeName:$.ZodMap,...U(t)});class Ts extends q{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==P.set)return R(r,{code:k.invalid_type,expected:P.set,received:r.parsedType}),F;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(R(r,{code:k.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(R(r,{code:k.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const n=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return F;u.status==="dirty"&&t.dirty(),d.add(u.value)}return{status:t.value,value:d}}const a=[...r.data.values()].map((c,d)=>n._parse(new pt(r,c,r.path,d)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,t){return new Ts({...this._def,minSize:{value:e,message:O.toString(t)}})}max(e,t){return new Ts({...this._def,maxSize:{value:e,message:O.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ts.create=(s,e)=>new Ts({valueType:s,minSize:null,maxSize:null,typeName:$.ZodSet,...U(e)});class Ki extends q{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ki.create=(s,e)=>new Ki({getter:s,typeName:$.ZodLazy,...U(e)});class Ji extends q{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return R(t,{received:t.data,code:k.invalid_literal,expected:this._def.value}),F}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ji.create=(s,e)=>new Ji({value:s,typeName:$.ZodLiteral,...U(e)});function Ia(s,e){return new ns({values:s,typeName:$.ZodEnum,...U(e)})}class ns extends q{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return R(t,{expected:Q.joinValues(r),received:t.parsedType,code:k.invalid_type}),F}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return R(t,{received:t.data,code:k.invalid_enum_value,options:r}),F}return ke(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ns.create(e,{...this._def,...t})}exclude(e,t=this._def){return ns.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}ns.create=Ia;class en extends q{_parse(e){const t=Q.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==P.string&&r.parsedType!==P.number){const i=Q.objectValues(t);return R(r,{expected:Q.joinValues(i),received:r.parsedType,code:k.invalid_type}),F}if(this._cache||(this._cache=new Set(Q.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Q.objectValues(t);return R(r,{received:r.data,code:k.invalid_enum_value,options:i}),F}return ke(e.data)}get enum(){return this._def.values}}en.create=(s,e)=>new en({values:s,typeName:$.ZodNativeEnum,...U(e)});class Xs extends q{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==P.promise&&t.common.async===!1)return R(t,{code:k.invalid_type,expected:P.promise,received:t.parsedType}),F;const r=t.parsedType===P.promise?t.data:Promise.resolve(t.data);return ke(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Xs.create=(s,e)=>new Xs({type:s,typeName:$.ZodPromise,...U(e)});class os extends q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:o=>{R(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),i.type==="preprocess"){const o=i.transform(r.data,n);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return F;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?F:c.status==="dirty"||t.value==="dirty"?bs(c.value):c});{if(t.value==="aborted")return F;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?F:a.status==="dirty"||t.value==="dirty"?bs(a.value):a}}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,n);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?F:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?F:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!is(o))return F;const a=i.transform(o.value,n);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>is(o)?Promise.resolve(i.transform(o.value,n)).then(a=>({status:t.value,value:a})):F);Q.assertNever(i)}}os.create=(s,e,t)=>new os({schema:s,typeName:$.ZodEffects,effect:e,...U(t)});os.createWithPreprocess=(s,e,t)=>new os({schema:e,effect:{type:"preprocess",transform:s},typeName:$.ZodEffects,...U(t)});class gt extends q{_parse(e){return this._getType(e)===P.undefined?ke(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gt.create=(s,e)=>new gt({innerType:s,typeName:$.ZodOptional,...U(e)});class as extends q{_parse(e){return this._getType(e)===P.null?ke(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}as.create=(s,e)=>new as({innerType:s,typeName:$.ZodNullable,...U(e)});class $r extends q{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===P.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}$r.create=(s,e)=>new $r({innerType:s,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...U(e)});class Br extends q{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Vs(i)?i.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Le(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Le(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Br.create=(s,e)=>new Br({innerType:s,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...U(e)});class tn extends q{_parse(e){if(this._getType(e)!==P.nan){const r=this._getOrReturnCtx(e);return R(r,{code:k.invalid_type,expected:P.nan,received:r.parsedType}),F}return{status:"valid",value:e.data}}}tn.create=s=>new tn({typeName:$.ZodNaN,...U(s)});class xh extends q{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ui extends q{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?F:n.status==="dirty"?(t.dirty(),bs(n.value)):this._def.out._parseAsync({data:n.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?F:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new ui({in:e,out:t,typeName:$.ZodPipeline})}}class Hr extends q{_parse(e){const t=this._def.innerType._parse(e),r=i=>(is(i)&&(i.value=Object.freeze(i.value)),i);return Vs(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}Hr.create=(s,e)=>new Hr({innerType:s,typeName:$.ZodReadonly,...U(e)});var $;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})($||($={}));const Ht=ft.create;vt.create;Be.create;const Ea=oe.create;Us.create;Ws.create;Ot.create;ns.create;Xs.create;gt.create;as.create;const wh=Ea({url:Ht().url("Please enter a valid URL"),title:Ht().min(1,"Title is required"),subtitle:Ht().optional()});function Ch({open:s,onOpenChange:e,onSubmit:t,isLoading:r=!1}){const[i,n]=h.useState(""),[o,a]=h.useState(""),[c,d]=h.useState(""),[u,f]=h.useState({}),[m,p]=h.useState(null),[w,b]=h.useState("url"),[v,S]=h.useState(null),[x,_]=h.useState(!1),[T,N]=h.useState(void 0);h.useEffect(()=>{!s&&!r&&(n(""),a(""),d(""),p(null),f({}),b("url"),S(null),_(!1))},[s,r]),h.useEffect(()=>()=>{m&&m.startsWith("blob:")&&URL.revokeObjectURL(m)},[m]);const M=E=>{n(E);try{new URL(E),p(E),f(y=>({...y,url:void 0}))}catch{p(null)}},Z=async()=>{if(console.log("AddImageDialog handleSubmit called with mode:",w),f({}),w==="url"){try{const E=wh.parse({url:i,title:o,subtitle:c||void 0});console.log("URL mode - submitting data:",E),t(E)}catch(E){if(console.error("URL mode validation error:",E),E instanceof Le){const y={};E.errors.forEach(A=>{A.path[0]==="url"&&(y.url=A.message),A.path[0]==="title"&&(y.title=A.message)}),f(y)}}return}if(console.log("Upload mode - validating..."),!o){f(E=>({...E,title:"Title is required"}));return}if(!v){f(E=>({...E,url:"Please select an image"}));return}try{_(!0),console.log("Uploading file:",v.name);const E=await Xu(v);console.log("Upload response:",E);const A={url:E.url,title:o,subtitle:c||void 0};console.log("Upload mode - submitting data:",A),t(A)}catch(E){console.error("Upload error:",E),f(y=>({...y,url:(E==null?void 0:E.message)||"Failed to upload image"}))}finally{_(!1)}},H=E=>{!E&&!r?e(!1):E&&e(!0)};return l.jsx(hs,{open:s,onOpenChange:H,children:l.jsxs(At,{className:"sm:max-w-2xl","data-testid":"dialog-add-image",children:[l.jsxs(Lt,{children:[l.jsx(Mt,{children:"Add New Image"}),l.jsx(zt,{children:"Enter the image URL and details to add it to the gallery."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs(Wu,{value:w,onValueChange:E=>b(E),children:[l.jsxs(Sa,{children:[l.jsx(Dr,{value:"url",children:"From URL"}),l.jsx(Dr,{value:"upload",children:"Upload"})]}),l.jsx(Mr,{value:"url",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"url",children:"Image URL"}),l.jsx(Ae,{id:"url",placeholder:"https://example.com/image.jpg",value:i,onChange:E=>M(E.target.value),"data-testid":"input-image-url"}),u.url&&l.jsx("p",{className:"text-sm text-destructive",children:u.url})]})}),l.jsx(Mr,{value:"upload",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(xe,{children:"Select image"}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"file-input",onChange:E=>{var A;const y=((A=E.target.files)==null?void 0:A[0])||null;if(S(y),y){const I=URL.createObjectURL(y);p(I)}else p(null)},capture:T}),l.jsx(J,{type:"button",variant:"secondary",onClick:()=>{var E;N(void 0),(E=document.getElementById("file-input"))==null||E.dispatchEvent(new MouseEvent("click"))},children:"Choose from device"}),l.jsx(J,{type:"button",variant:"outline",onClick:()=>{N("environment");const E=document.getElementById("file-input");E&&(E.setAttribute("capture","environment"),E.click())},children:"Take photo"})]}),u.url&&l.jsx("p",{className:"text-sm text-destructive",children:u.url})]})})]}),m&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{children:"Preview"}),l.jsx("div",{className:"aspect-square w-full max-w-xs rounded-lg overflow-hidden border border-border",children:l.jsx("img",{src:m,alt:"Preview",className:"w-full h-full object-cover",onError:()=>p(null),"data-testid":"img-preview"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"title",children:"Title"}),l.jsx(Ae,{id:"title",placeholder:"Image title",value:o,onChange:E=>a(E.target.value),"data-testid":"input-image-title"}),u.title&&l.jsx("p",{className:"text-sm text-destructive",children:u.title})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),l.jsx(Ae,{id:"subtitle",placeholder:"Image subtitle",value:c,onChange:E=>d(E.target.value),"data-testid":"input-image-subtitle"})]})]}),l.jsxs(Dt,{children:[l.jsx(J,{variant:"outline",onClick:()=>H(!1),disabled:r||x,"data-testid":"button-cancel",children:"Cancel"}),l.jsx(J,{onClick:Z,disabled:r||x,"data-testid":"button-submit-image",children:r||x?"Adding...":"Add Image"})]})]})})}const Sh=Ea({url:Ht().url("Please enter a valid URL"),title:Ht().min(1,"Title is required"),subtitle:Ht().optional()});function Th({open:s,onOpenChange:e,onSubmit:t,initialData:r}){const[i,n]=h.useState(""),[o,a]=h.useState(""),[c,d]=h.useState(""),[u,f]=h.useState({});h.useEffect(()=>{r&&(n(r.url),a(r.title),d(r.subtitle||""))},[r,s]);const m=()=>{try{const p=Sh.parse({url:i,title:o,subtitle:c||void 0});t(p),f({}),e(!1)}catch(p){if(p instanceof Le){const w={};p.errors.forEach(b=>{b.path[0]==="url"&&(w.url=b.message),b.path[0]==="title"&&(w.title=b.message)}),f(w)}}};return l.jsx(hs,{open:s,onOpenChange:e,children:l.jsxs(At,{className:"sm:max-w-2xl","data-testid":"dialog-edit-image",children:[l.jsxs(Lt,{children:[l.jsx(Mt,{children:"Edit Image"}),l.jsx(zt,{children:"Update the image URL and details."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"aspect-square w-32 rounded-lg overflow-hidden border border-border",children:l.jsx("img",{src:i,alt:"Current",className:"w-full h-full object-cover","data-testid":"img-current"})})}),l.jsxs("div",{className:"flex-1 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"edit-url",children:"Image URL"}),l.jsx(Ae,{id:"edit-url",placeholder:"https://example.com/image.jpg",value:i,onChange:p=>n(p.target.value),"data-testid":"input-edit-url"}),u.url&&l.jsx("p",{className:"text-sm text-destructive",children:u.url})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"edit-title",children:"Title"}),l.jsx(Ae,{id:"edit-title",placeholder:"Image title",value:o,onChange:p=>a(p.target.value),"data-testid":"input-edit-title"}),u.title&&l.jsx("p",{className:"text-sm text-destructive",children:u.title})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"edit-subtitle",children:"Subtitle (Optional)"}),l.jsx(Ae,{id:"edit-subtitle",placeholder:"Image subtitle",value:c,onChange:p=>d(p.target.value),"data-testid":"input-edit-subtitle"})]})]})]})}),l.jsxs(Dt,{children:[l.jsx(J,{variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),l.jsx(J,{onClick:m,"data-testid":"button-save-edit",children:"Save Changes"})]})]})})}const _h=Tl,Ih=Sl,ka=h.forwardRef(({className:s,...e},t)=>l.jsx(Ln,{className:B("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...e,ref:t}));ka.displayName=Ln.displayName;const ja=h.forwardRef(({className:s,...e},t)=>l.jsxs(Ih,{children:[l.jsx(ka,{}),l.jsx(Dn,{ref:t,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...e})]}));ja.displayName=Dn.displayName;const Ra=({className:s,...e})=>l.jsx("div",{className:B("flex flex-col space-y-2 text-center sm:text-left",s),...e});Ra.displayName="AlertDialogHeader";const Pa=({className:s,...e})=>l.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...e});Pa.displayName="AlertDialogFooter";const Na=h.forwardRef(({className:s,...e},t)=>l.jsx(Mn,{ref:t,className:B("text-lg font-semibold",s),...e}));Na.displayName=Mn.displayName;const Oa=h.forwardRef(({className:s,...e},t)=>l.jsx(zn,{ref:t,className:B("text-sm text-muted-foreground",s),...e}));Oa.displayName=zn.displayName;const Aa=h.forwardRef(({className:s,...e},t)=>l.jsx(Fn,{ref:t,className:B(ii(),s),...e}));Aa.displayName=Fn.displayName;const La=h.forwardRef(({className:s,...e},t)=>l.jsx($n,{ref:t,className:B(ii({variant:"outline"}),"mt-2 sm:mt-0",s),...e}));La.displayName=$n.displayName;function fr({open:s,onOpenChange:e,onConfirm:t,title:r,description:i}){return l.jsx(_h,{open:s,onOpenChange:e,children:l.jsxs(ja,{className:"sm:max-w-md","data-testid":"dialog-delete-confirm",children:[l.jsxs(Ra,{children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center",children:l.jsx(Al,{className:"w-6 h-6 text-destructive"})})}),l.jsx(Na,{className:"text-center",children:r}),l.jsx(Oa,{className:"text-center",children:i})]}),l.jsxs(Pa,{className:"sm:justify-center gap-2",children:[l.jsx(La,{"data-testid":"button-cancel-delete",children:"Cancel"}),l.jsx(Aa,{onClick:t,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Delete"})]})]})})}function Eh({open:s,onOpenChange:e,onSubmit:t}){const[r,i]=h.useState(""),n=()=>{r.trim()&&(t(r),i(""),e(!1))};return l.jsx(hs,{open:s,onOpenChange:e,children:l.jsxs(At,{className:"sm:max-w-md","data-testid":"dialog-add-row",children:[l.jsxs(Lt,{children:[l.jsx(Mt,{children:"Add New Row"}),l.jsx(zt,{children:"Create a new horizontal scroll row for your images."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"row-title",children:"Row Title"}),l.jsx(Ae,{id:"row-title",placeholder:"e.g., My Collection",value:r,onChange:o=>i(o.target.value),"data-testid":"input-row-title"})]})}),l.jsxs(Dt,{children:[l.jsx(J,{variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel-row",children:"Cancel"}),l.jsx(J,{onClick:n,disabled:!r.trim(),"data-testid":"button-submit-row",children:"Create Row"})]})]})})}function kh({open:s,onOpenChange:e,onSubmit:t,initialTitle:r}){const[i,n]=h.useState("");h.useEffect(()=>{r&&n(r)},[r,s]);const o=()=>{i.trim()&&(t(i),e(!1))};return l.jsx(hs,{open:s,onOpenChange:e,children:l.jsxs(At,{className:"sm:max-w-md","data-testid":"dialog-edit-row",children:[l.jsxs(Lt,{children:[l.jsx(Mt,{children:"Edit Row"}),l.jsx(zt,{children:"Update the title for this row."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"edit-row-title",children:"Row Title"}),l.jsx(Ae,{id:"edit-row-title",placeholder:"e.g., My Collection",value:i,onChange:a=>n(a.target.value),"data-testid":"input-edit-row-title"})]})}),l.jsxs(Dt,{children:[l.jsx(J,{variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel-edit-row",children:"Cancel"}),l.jsx(J,{onClick:o,disabled:!i.trim(),"data-testid":"button-save-row",children:"Save Changes"})]})]})})}function jh({open:s,onOpenChange:e,onSubmit:t}){const[r,i]=h.useState(""),n=()=>{r.trim()&&(t(r),i(""),e(!1))};return l.jsx(hs,{open:s,onOpenChange:e,children:l.jsxs(At,{className:"sm:max-w-md","data-testid":"dialog-add-page",children:[l.jsxs(Lt,{children:[l.jsx(Mt,{children:"Add New Page"}),l.jsx(zt,{children:"Create a new page to organize your gallery rows."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"page-name",children:"Page Name"}),l.jsx(Ae,{id:"page-name",placeholder:"e.g., Nature Photos",value:r,onChange:o=>i(o.target.value),"data-testid":"input-page-name"})]})}),l.jsxs(Dt,{children:[l.jsx(J,{variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel-page",children:"Cancel"}),l.jsx(J,{onClick:n,disabled:!r.trim(),"data-testid":"button-submit-page",children:"Create Page"})]})]})})}function Rh({open:s,onOpenChange:e,onSubmit:t,currentName:r}){const[i,n]=h.useState(r);h.useEffect(()=>{n(r)},[r,s]);const o=()=>{i.trim()&&i!==r&&(t(i),e(!1))};return l.jsx(hs,{open:s,onOpenChange:e,children:l.jsxs(At,{className:"sm:max-w-md","data-testid":"dialog-edit-page",children:[l.jsxs(Lt,{children:[l.jsx(Mt,{children:"Rename Page"}),l.jsx(zt,{children:"Update the name of this page."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"edit-page-name",children:"Page Name"}),l.jsx(Ae,{id:"edit-page-name",placeholder:"e.g., Nature Photos",value:i,onChange:a=>n(a.target.value),"data-testid":"input-edit-page-name"})]})}),l.jsxs(Dt,{children:[l.jsx(J,{variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel-edit-page",children:"Cancel"}),l.jsx(J,{onClick:o,disabled:!i.trim()||i===r,"data-testid":"button-submit-edit-page",children:"Save"})]})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ph(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(s);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(s,r[i])&&(t[r[i]]=s[r[i]]);return t}/*!
 * lightgallery | 2.9.0 | October 1st 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rt=function(){return rt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},rt.apply(this,arguments)};function Nh(){for(var s=0,e=0,t=arguments.length;e<t;e++)s+=arguments[e].length;for(var r=Array(s),i=0,e=0;e<t;e++)for(var n=arguments[e],o=0,a=n.length;o<a;o++,i++)r[i]=n[o];return r}var te={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose"},Oh={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}};function Ah(){(function(){if(typeof window.CustomEvent=="function")return!1;function s(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}window.CustomEvent=s})(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}()}var Da=function(){function s(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}return s.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})},s.prototype._getSelector=function(e,t){if(t===void 0&&(t=document),typeof e!="string")return e;t=t||document;var r=e.substring(0,1);return r==="#"?t.querySelector(e):t.querySelectorAll(e)},s.prototype._each=function(e){return this.selector?(this.selector.length!==void 0?[].forEach.call(this.selector,e):e(this.selector,0),this):this},s.prototype._setCssVendorPrefix=function(e,t,r){var i=t.replace(/-([a-z])/gi,function(n,o){return o.toUpperCase()});this.cssVenderPrefixes.indexOf(i)!==-1?(e.style[i.charAt(0).toLowerCase()+i.slice(1)]=r,e.style["webkit"+i]=r,e.style["moz"+i]=r,e.style["ms"+i]=r,e.style["o"+i]=r):e.style[i]=r},s.prototype._getFirstEl=function(){return this.selector&&this.selector.length!==void 0?this.selector[0]:this.selector},s.prototype.isEventMatched=function(e,t){var r=t.split(".");return e.split(".").filter(function(i){return i}).every(function(i){return r.indexOf(i)!==-1})},s.prototype.attr=function(e,t){return t===void 0?this.firstElement?this.firstElement.getAttribute(e):"":(this._each(function(r){r.setAttribute(e,t)}),this)},s.prototype.find=function(e){return D(this._getSelector(e,this.selector))},s.prototype.first=function(){return this.selector&&this.selector.length!==void 0?D(this.selector[0]):D(this.selector)},s.prototype.eq=function(e){return D(this.selector[e])},s.prototype.parent=function(){return D(this.selector.parentElement)},s.prototype.get=function(){return this._getFirstEl()},s.prototype.removeAttr=function(e){var t=e.split(" ");return this._each(function(r){t.forEach(function(i){return r.removeAttribute(i)})}),this},s.prototype.wrap=function(e){if(!this.firstElement)return this;var t=document.createElement("div");return t.className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement),this},s.prototype.addClass=function(e){return e===void 0&&(e=""),this._each(function(t){e.split(" ").forEach(function(r){r&&t.classList.add(r)})}),this},s.prototype.removeClass=function(e){return this._each(function(t){e.split(" ").forEach(function(r){r&&t.classList.remove(r)})}),this},s.prototype.hasClass=function(e){return this.firstElement?this.firstElement.classList.contains(e):!1},s.prototype.hasAttribute=function(e){return this.firstElement?this.firstElement.hasAttribute(e):!1},s.prototype.toggleClass=function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this},s.prototype.css=function(e,t){var r=this;return this._each(function(i){r._setCssVendorPrefix(i,e,t)}),this},s.prototype.on=function(e,t){var r=this;return this.selector?(e.split(" ").forEach(function(i){Array.isArray(s.eventListeners[i])||(s.eventListeners[i]=[]),s.eventListeners[i].push(t),r.selector.addEventListener(i.split(".")[0],t)}),this):this},s.prototype.once=function(e,t){var r=this;return this.on(e,function(){r.off(e),t(e)}),this},s.prototype.off=function(e){var t=this;return this.selector?(Object.keys(s.eventListeners).forEach(function(r){t.isEventMatched(e,r)&&(s.eventListeners[r].forEach(function(i){t.selector.removeEventListener(r.split(".")[0],i)}),s.eventListeners[r]=[])}),this):this},s.prototype.trigger=function(e,t){if(!this.firstElement)return this;var r=new CustomEvent(e.split(".")[0],{detail:t||null});return this.firstElement.dispatchEvent(r),this},s.prototype.load=function(e){var t=this;return fetch(e).then(function(r){return r.text()}).then(function(r){t.selector.innerHTML=r}),this},s.prototype.html=function(e){return e===void 0?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(t){t.innerHTML=e}),this)},s.prototype.append=function(e){return this._each(function(t){typeof e=="string"?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)}),this},s.prototype.prepend=function(e){return this._each(function(t){typeof e=="string"?t.insertAdjacentHTML("afterbegin",e):e instanceof HTMLElement&&t.insertBefore(e.cloneNode(!0),t.firstChild)}),this},s.prototype.remove=function(){return this._each(function(e){e.parentNode.removeChild(e)}),this},s.prototype.empty=function(){return this._each(function(e){e.innerHTML=""}),this},s.prototype.scrollTop=function(e){return e!==void 0?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},s.prototype.scrollLeft=function(e){return e!==void 0?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},s.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),t=D("body").style().marginLeft;return{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}},s.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},s.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},s.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},s.eventListeners={},s}();function D(s){return Ah(),new Da(s)}var Lh=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function Dh(s){return s==="href"?"src":(s=s.replace("data-",""),s=s.charAt(0).toLowerCase()+s.slice(1),s=s.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),s)}var ae={fetchCaptionFromUrl:function(s,e,t){fetch(s).then(function(r){return r.text()}).then(function(r){if(t==="append"){var i='<div class="lg-sub-html">'+r+"</div>";e.append(i)}else e.html(r)})},getSize:function(s,e,t,r){t===void 0&&(t=0);var i=D(s),n=i.attr("data-lg-size")||r;if(n){var o=n.split(",");if(o[1])for(var a=window.innerWidth,c=0;c<o.length;c++){var d=o[c],u=parseInt(d.split("-")[2],10);if(u>a){n=d;break}c===o.length-1&&(n=d)}var f=n.split("-"),m=parseInt(f[0],10),p=parseInt(f[1],10),w=e.width(),b=e.height()-t,v=Math.min(w,m),S=Math.min(b,p),x=Math.min(v/m,S/p);return{width:m*x,height:p*x}}},getTransform:function(s,e,t,r,i){if(i){var n=D(s).find("img").first();if(n.get()){var o=e.get().getBoundingClientRect(),a=o.width,c=e.height()-(t+r),d=n.width(),u=n.height(),f=n.style(),m=(a-d)/2-n.offset().left+(parseFloat(f.paddingLeft)||0)+(parseFloat(f.borderLeft)||0)+D(window).scrollLeft()+o.left,p=(c-u)/2-n.offset().top+(parseFloat(f.paddingTop)||0)+(parseFloat(f.borderTop)||0)+D(window).scrollTop()+t,w=d/i.width,b=u/i.height,v="translate3d("+(m*=-1)+"px, "+(p*=-1)+"px, 0) scale3d("+w+", "+b+", 1)";return v}}},getIframeMarkup:function(s,e,t,r,i,n){var o=n?'title="'+n+'"':"";return'<div class="lg-media-cont lg-has-iframe" style="width:'+s+"; max-width:"+t+"; height: "+e+"; max-height:"+r+`">
                    <iframe class="lg-object" frameborder="0" `+o+' src="'+i+`"  allowfullscreen="true"></iframe>
                </div>`},getImgMarkup:function(s,e,t,r,i,n){var o=r?'srcset="'+r+'"':"",a=i?'sizes="'+i+'"':"",c="<img "+t+" "+o+"  "+a+' class="lg-object lg-image" data-index="'+s+'" src="'+e+'" />',d="";if(n){var u=typeof n=="string"?JSON.parse(n):n;d=u.map(function(f){var m="";return Object.keys(f).forEach(function(p){m+=" "+p+'="'+f[p]+'"'}),"<source "+m+"></source>"})}return""+d+c},getResponsiveSrc:function(s){for(var e=[],t=[],r="",i=0;i<s.length;i++){var n=s[i].split(" ");n[0]===""&&n.splice(0,1),t.push(n[0]),e.push(n[1])}for(var o=window.innerWidth,a=0;a<e.length;a++)if(parseInt(e[a],10)>o){r=t[a];break}return r},isImageLoaded:function(s){return!(!s||!s.complete||s.naturalWidth===0)},getVideoPosterMarkup:function(s,e,t,r,i){var n="";i&&i.youtube?n="lg-has-youtube":i&&i.vimeo?n="lg-has-vimeo":n="lg-has-html5";var o=e;return typeof e!="string"&&(o=e.outerHTML),'<div class="lg-video-cont '+n+'" style="'+t+`">
                <div class="lg-video-play-button">
                <svg
                    viewBox="0 0 20 20"
                    preserveAspectRatio="xMidYMid"
                    focusable="false"
                    aria-labelledby="`+r+`"
                    role="img"
                    class="lg-video-play-icon"
                >
                    <title>`+r+`</title>
                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>
                </svg>
                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle></svg>
                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle>
                </svg>
            </div>
            `+o+`
            <img class="lg-object lg-video-poster" src="`+s+`" />
        </div>`},getFocusableElements:function(s){var e=s.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),t=[].filter.call(e,function(r){var i=window.getComputedStyle(r);return i.display!=="none"&&i.visibility!=="hidden"});return t},getDynamicOptions:function(s,e,t,r){var i=[],n=Nh(Lh,e);return[].forEach.call(s,function(o){for(var a={},c=0;c<o.attributes.length;c++){var d=o.attributes[c];if(d.specified){var u=Dh(d.name),f="";n.indexOf(u)>-1&&(f=u),f&&(a[f]=d.value)}}var m=D(o),p=m.find("img").first().attr("alt"),w=m.attr("title"),b=r?m.attr(r):m.find("img").first().attr("src");a.thumb=b,t&&!a.subHtml&&(a.subHtml=w||p||""),a.alt=p||w||"",i.push(a)}),i},isMobile:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},isVideo:function(s,e,t){if(!s){if(e)return{html5:!0};console.error("lightGallery :- data-src is not provided on slide item "+(t+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");return}var r=s.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),i=s.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),n=s.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);if(r)return{youtube:r};if(i)return{vimeo:i};if(n)return{wistia:n}}},sn=0,Mh=function(){function s(e,t){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!e)return this;if(sn++,this.lgId=sn,this.el=e,this.LGel=D(e),this.generateSettings(t),this.buildModules(),this.settings.dynamic&&this.settings.dynamicEl!==void 0&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return s.prototype.generateSettings=function(e){if(this.settings=rt(rt({},Oh),e),this.settings.isMobile&&typeof this.settings.isMobile=="function"?this.settings.isMobile():ae.isMobile()){var t=rt(rt({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=rt(rt({},this.settings),t)}},s.prototype.normalizeSettings=function(){if(this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container){var e=this.settings.container;if(typeof e=="function")this.settings.container=e();else if(typeof e=="string"){var t=document.querySelector(e);this.settings.container=t??document.body}}else this.settings.container=document.body;this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},s.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(te.init,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},s.prototype.openGalleryOnItemClick=function(){for(var e=this,t=function(n){var o=r.items[n],a=D(o),c=Da.generateUUID();a.attr("data-lg-id",c).on("click.lgcustom-item-"+c,function(d){d.preventDefault();var u=e.settings.index||n;e.openGallery(u,o)})},r=this,i=0;i<this.items.length;i++)t(i)},s.prototype.buildModules=function(){var e=this;this.settings.plugins.forEach(function(t){e.plugins.push(new t(e,D))})},s.prototype.validateLicense=function(){this.settings.licenseKey?this.settings.licenseKey==="0000-0000-000-0000"&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},s.prototype.getSlideItem=function(e){return D(this.getSlideItemId(e))},s.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},s.prototype.getIdName=function(e){return e+"-"+this.lgId},s.prototype.getElementById=function(e){return D("#"+this.getIdName(e))},s.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},s.prototype.buildStructure=function(){var e=this,t=this.$container&&this.$container.get();if(!t){var r="",i="";this.settings.controls&&(r='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+` </button>
                <button type="button" id="`+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),this.settings.appendSubHtmlTo!==".lg-item"&&(i='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var n="";this.settings.allowMediaOverlap&&(n+="lg-media-overlap ");var o=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",a=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",c="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),d=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",u=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",f=`
        <div class="`+c+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+o+" "+a+` role="dialog"
        >
            <div id="`+this.getIdName("lg-backdrop")+`" class="lg-backdrop"></div>

            <div id="`+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+n+` ">

              <div id="`+this.getIdName("lg-content")+`" class="lg-content">
                <div id="`+this.getIdName("lg-inner")+`" class="lg-inner">
                </div>
                `+r+`
              </div>
                <div id="`+this.getIdName("lg-toolbar")+`" class="lg-toolbar lg-group">
                    `+u+`
                    `+d+`
                    </div>
                    `+(this.settings.appendSubHtmlTo===".lg-outer"?i:"")+`
                <div id="`+this.getIdName("lg-components")+`" class="lg-components">
                    `+(this.settings.appendSubHtmlTo===".lg-sub-html"?i:"")+`
                </div>
            </div>
        </div>
        `;D(this.settings.container).append(f),document.body!==this.settings.container&&D(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var m=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(m+="lg-grab "),this.outer.addClass(m),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),D(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){e.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},s.prototype.refreshOnResize=function(){if(this.lgOpened){var e=this.galleryItems[this.index],t=e.__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var r=this.mediaContainerPosition,i=r.top,n=r.bottom;if(this.currentImageSize=ae.getSize(this.items[this.index],this.outer,i+n,t&&this.settings.videoMaxSize),t&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var o=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",o)}this.LGel.trigger(te.containerResize)}},s.prototype.resizeVideoSlide=function(e,t){var r=this.getVideoContStyle(t),i=this.getSlideItem(e);i.find(".lg-video-cont").attr("style",r)},s.prototype.updateSlides=function(e,t){if(this.index>e.length-1&&(this.index=e.length-1),e.length===1&&(this.index=0),!e.length){this.closeGallery();return}var r=this.galleryItems[t].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var i=0;this.galleryItems.some(function(n,o){return n.src===r?(i=o,!0):!1}),this.currentItemsInDom=this.organizeSlideItems(i,-1),this.loadContent(i,!0),this.getSlideItem(i).addClass("lg-current"),this.index=i,this.updateCurrentCounter(i),this.LGel.trigger(te.updateSlides)},s.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if(this.settings.selector==="this")this.items.push(this.el);else if(this.settings.selector)if(typeof this.settings.selector=="string")if(this.settings.selectWithin){var e=D(this.settings.selectWithin);this.items=e.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return ae.getDynamicOptions(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},s.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},s.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(D("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),t=window.innerWidth-e.width;D(document.body).css("padding-right",t+this.bodyPaddingRight+"px"),D(document.body).addClass("lg-overlay-open")}},s.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(D(document.body).css("padding-right",this.bodyPaddingRight+"px"),D(document.body).removeClass("lg-overlay-open"))},s.prototype.openGallery=function(e,t){var r=this;if(e===void 0&&(e=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var i=this.getItemsToBeInsertedToDom(e,e);this.currentItemsInDom=i;var n="";i.forEach(function(m){n=n+('<div id="'+m+'" class="lg-item"></div>')}),this.$inner.append(n),this.addHtml(e);var o="";this.mediaContainerPosition=this.getMediaContainerPosition();var a=this.mediaContainerPosition,c=a.top,d=a.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(c,d);var u=this.galleryItems[e].__slideVideoInfo;this.zoomFromOrigin&&t&&(this.currentImageSize=ae.getSize(t,this.outer,c+d,u&&this.settings.videoMaxSize),o=ae.getTransform(t,this.outer,c,d,this.currentImageSize)),(!this.zoomFromOrigin||!o)&&(this.outer.addClass(this.settings.startClass),this.getSlideItem(e).removeClass("lg-complete"));var f=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout(function(){r.outer.addClass("lg-components-open")},f),this.index=e,this.LGel.trigger(te.beforeOpen),this.getSlideItem(e).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=D(window).scrollTop(),setTimeout(function(){if(r.zoomFromOrigin&&o){var m=r.getSlideItem(e);m.css("transform",o),setTimeout(function(){m.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",r.settings.startAnimationDuration+"ms"),r.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){m.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){r.$backdrop.addClass("in"),r.$container.addClass("lg-show-in")},10),setTimeout(function(){r.settings.trapFocus&&document.body===r.settings.container&&r.trapFocus()},r.settings.backdropDuration+50),(!r.zoomFromOrigin||!o)&&setTimeout(function(){r.outer.addClass("lg-visible")},r.settings.backdropDuration),r.slide(e,!1,!1,!1),r.LGel.trigger(te.afterOpen)}),document.body===this.settings.container&&D("html").addClass("lg-on")}},s.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,t=this.outer.find(".lg-components .lg-sub-html").get(),r=this.settings.defaultCaptionHeight||t&&t.clientHeight||0,i=this.outer.find(".lg-thumb-outer").get(),n=i?i.clientHeight:0,o=n+r;return{top:e,bottom:o}},s.prototype.setMediaContainerPosition=function(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this.$content.css("top",e+"px").css("bottom",t+"px")},s.prototype.hideBars=function(){var e=this;setTimeout(function(){e.outer.removeClass("lg-hide-items"),e.settings.hideBarsDelay>0&&(e.outer.on("mousemove.lg click.lg touchstart.lg",function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout(function(){e.outer.addClass("lg-hide-items")},e.settings.hideBarsDelay)}),e.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},s.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch{console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},s.prototype.counter=function(){if(this.settings.counter){var e=`<div class="lg-counter" role="status" aria-live="polite">
                <span id="`+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+` </span> /
                <span id="`+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(e)}},s.prototype.addHtml=function(e){var t,r;if(this.galleryItems[e].subHtmlUrl?r=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,!r)if(t){var i=t.substring(0,1);if(i==="."||i==="#")try{this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?t=D(this.items).eq(e).find(t).first().html():t=D(t).first().html()}catch{console.warn('Error processing subHtml selector "'+t+'"'),t=""}}else t="";if(this.settings.appendSubHtmlTo!==".lg-item")r?ae.fetchCaptionFromUrl(r,this.outer.find(".lg-sub-html"),"replace"):this.outer.find(".lg-sub-html").html(t);else{var n=D(this.getSlideItemId(e));r?ae.fetchCaptionFromUrl(r,n,"append"):n.append('<div class="lg-sub-html">'+t+"</div>")}typeof t<"u"&&t!==null&&(t===""?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(te.afterAppendSubHtml,{index:e})},s.prototype.preload=function(e){for(var t=1;t<=this.settings.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var r=1;r<=this.settings.preload&&!(e-r<0);r++)this.loadContent(e-r,!1)},s.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+`px;
                margin-left: -`+e.width/2+`px;
                margin-top: -`+e.height/2+`px;
                height:`+e.height+"px":""},s.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+`px;
                height:`+e.height+"px":""},s.prototype.getDummyImageContent=function(e,t,r){var i;if(this.settings.dynamic||(i=D(this.items).eq(t)),i){var n=void 0;if(this.settings.exThumbImage?n=i.attr(this.settings.exThumbImage):n=i.find("img").first().attr("src"),!n)return"";var o=this.getDummyImgStyles(this.currentImageSize),a=document.createElement("img");return a.alt=r||"",a.src=n,a.className="lg-dummy-img",a.style.cssText=o,e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),a}return""},s.prototype.setImgMarkup=function(e,t,r){var i=this.galleryItems[r],n=i.alt,o=i.srcset,a=i.sizes,c=i.sources,d="",u=n?'alt="'+n+'"':"";this.isFirstSlideWithZoomAnimation()?d=this.getDummyImageContent(t,r,u):d=ae.getImgMarkup(r,e,u,o,a,c);var f=document.createElement("picture");f.className="lg-img-wrap",D(f).append(d),t.prepend(f)},s.prototype.onSlideObjectLoad=function(e,t,r,i){var n=e.find(".lg-object").first();ae.isImageLoaded(n.get())||t?r():(n.on("load.lg error.lg",function(){r&&r()}),n.on("error.lg",function(){i&&i()}))},s.prototype.onLgObjectLoad=function(e,t,r,i,n,o){var a=this;this.onSlideObjectLoad(e,o,function(){a.triggerSlideItemLoad(e,t,r,i,n)},function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+a.settings.strings.mediaLoadingFailed+"</span>")})},s.prototype.triggerSlideItemLoad=function(e,t,r,i,n){var o=this,a=this.galleryItems[t],c=n&&this.getSlideType(a)==="video"&&!a.poster?i:0;setTimeout(function(){e.addClass("lg-complete lg-complete_"),o.LGel.trigger(te.slideItemLoad,{index:t,delay:r||0,isFirstSlide:n})},c)},s.prototype.isFirstSlideWithZoomAnimation=function(){return!!(!this.lGalleryOn&&this.zoomFromOrigin&&this.currentImageSize)},s.prototype.addSlideVideoInfo=function(e){var t=this;e.forEach(function(r,i){r.__slideVideoInfo=ae.isVideo(r.src,!!r.video,i),r.__slideVideoInfo&&t.settings.loadYouTubePoster&&!r.poster&&r.__slideVideoInfo.youtube&&(r.poster="//img.youtube.com/vi/"+r.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},s.prototype.loadContent=function(e,t){var r=this,i=this.galleryItems[e],n=D(this.getSlideItemId(e)),o=i.poster,a=i.srcset,c=i.sizes,d=i.sources,u=i.src,f=i.video,m=f&&typeof f=="string"?JSON.parse(f):f;if(i.responsive){var p=i.responsive.split(",");u=ae.getResponsiveSrc(p)||u}var w=i.__slideVideoInfo,b="",v=!!i.iframe,S=!this.lGalleryOn,x=0;if(S&&(this.zoomFromOrigin&&this.currentImageSize?x=this.settings.startAnimationDuration+10:x=this.settings.backdropDuration+10),!n.hasClass("lg-loaded")){if(w){var _=this.mediaContainerPosition,T=_.top,N=_.bottom,M=ae.getSize(this.items[e],this.outer,T+N,w&&this.settings.videoMaxSize);b=this.getVideoContStyle(M)}if(v){var Z=ae.getIframeMarkup(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,u,i.iframeTitle);n.prepend(Z)}else if(o){var H="",E=S&&this.zoomFromOrigin&&this.currentImageSize;E&&(H=this.getDummyImageContent(n,e,""));var Z=ae.getVideoPosterMarkup(o,H||"",b,this.settings.strings.playVideo,w);n.prepend(Z)}else if(w){var Z='<div class="lg-video-cont " style="'+b+'"></div>';n.prepend(Z)}else if(this.setImgMarkup(u,n,e),a||d){var y=n.find(".lg-object");this.initPictureFill(y)}(o||w)&&this.LGel.trigger(te.hasVideo,{index:e,src:u,html5Video:m,hasPoster:!!o}),this.LGel.trigger(te.afterAppendSlide,{index:e}),this.lGalleryOn&&this.settings.appendSubHtmlTo===".lg-item"&&this.addHtml(e)}var A=0;x&&!D(document.body).hasClass("lg-from-hash")&&(A=x),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){n.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),n.hasClass("lg-loaded")||setTimeout(function(){if(r.getSlideType(i)==="image"){var I=i.alt,ne=I?'alt="'+I+'"':"";if(n.find(".lg-img-wrap").append(ae.getImgMarkup(e,u,ne,a,c,i.sources)),a||d){var z=n.find(".lg-object");r.initPictureFill(z)}}(r.getSlideType(i)==="image"||r.getSlideType(i)==="video"&&o)&&(r.onLgObjectLoad(n,e,x,A,!0,!1),r.onSlideObjectLoad(n,!!(w&&w.html5&&!o),function(){r.loadContentOnFirstSlideLoad(e,n,A)},function(){r.loadContentOnFirstSlideLoad(e,n,A)}))},this.settings.startAnimationDuration+100)),n.addClass("lg-loaded"),(!this.isFirstSlideWithZoomAnimation()||this.getSlideType(i)==="video"&&!o)&&this.onLgObjectLoad(n,e,x,A,S,!!(w&&w.html5&&!o)),(!this.zoomFromOrigin||!this.currentImageSize)&&n.hasClass("lg-complete_")&&!this.lGalleryOn&&setTimeout(function(){n.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,t===!0&&(n.hasClass("lg-complete_")?this.preload(e):n.find(".lg-object").first().on("load.lg error.lg",function(){r.preload(e)}))},s.prototype.loadContentOnFirstSlideLoad=function(e,t,r){var i=this;setTimeout(function(){t.find(".lg-dummy-img").remove(),t.removeClass("lg-first-slide"),i.outer.removeClass("lg-first-slide-loading"),i.isDummyImageRemoved=!0,i.preload(e)},r+300)},s.prototype.getItemsToBeInsertedToDom=function(e,t,r){var i=this;r===void 0&&(r=0);var n=[],o=Math.max(r,3);o=Math.min(o,this.galleryItems.length);var a="lg-item-"+this.lgId+"-"+t;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(u,f){n.push("lg-item-"+i.lgId+"-"+f)}),n;if(e<(this.galleryItems.length-1)/2){for(var c=e;c>e-o/2&&c>=0;c--)n.push("lg-item-"+this.lgId+"-"+c);for(var d=n.length,c=0;c<o-d;c++)n.push("lg-item-"+this.lgId+"-"+(e+c+1))}else{for(var c=e;c<=this.galleryItems.length-1&&c<e+o/2;c++)n.push("lg-item-"+this.lgId+"-"+c);for(var d=n.length,c=0;c<o-d;c++)n.push("lg-item-"+this.lgId+"-"+(e-c-1))}return this.settings.loop&&(e===this.galleryItems.length-1?n.push("lg-item-"+this.lgId+"-0"):e===0&&n.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),n.indexOf(a)===-1&&n.push("lg-item-"+this.lgId+"-"+t),n},s.prototype.organizeSlideItems=function(e,t){var r=this,i=this.getItemsToBeInsertedToDom(e,t,this.settings.numberOfSlideItemsInDom);return i.forEach(function(n){r.currentItemsInDom.indexOf(n)===-1&&r.$inner.append('<div id="'+n+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(n){i.indexOf(n)===-1&&D("#"+n).remove()}),i},s.prototype.getPreviousSlideIndex=function(){var e=0;try{var t=this.outer.find(".lg-current").first().attr("id");e=parseInt(t.split("-")[3])||0}catch{e=0}return e},s.prototype.setDownloadValue=function(e){if(this.settings.download){var t=this.galleryItems[e],r=t.downloadUrl===!1||t.downloadUrl==="false";if(r)this.outer.addClass("lg-hide-download");else{var i=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),i.attr("href",t.downloadUrl||t.src),t.download&&i.attr("download",t.download)}}},s.prototype.makeSlideAnimation=function(e,t,r){var i=this;this.lGalleryOn&&r.addClass("lg-slide-progress"),setTimeout(function(){i.outer.addClass("lg-no-trans"),i.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),e==="prev"?(t.addClass("lg-prev-slide"),r.addClass("lg-next-slide")):(t.addClass("lg-next-slide"),r.addClass("lg-prev-slide")),setTimeout(function(){i.outer.find(".lg-item").removeClass("lg-current"),t.addClass("lg-current"),i.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},s.prototype.slide=function(e,t,r,i){var n=this,o=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,o),!(this.lGalleryOn&&o===e)){var a=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(e);var c=this.getSlideItem(e),d=this.getSlideItem(o),u=this.galleryItems[e],f=u.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(u)),this.setDownloadValue(e),f){var m=this.mediaContainerPosition,p=m.top,w=m.bottom,b=ae.getSize(this.items[e],this.outer,p+w,f&&this.settings.videoMaxSize);this.resizeVideoSlide(e,b)}if(this.LGel.trigger(te.beforeSlide,{prevIndex:o,index:e,fromTouch:!!t,fromThumb:!!r}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),i||(e<o?i="prev":e>o&&(i="next")),!t)this.makeSlideAnimation(i,c,d);else{this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var v=void 0,S=void 0;a>2?(v=e-1,S=e+1,(e===0&&o===a-1||e===a-1&&o===0)&&(S=0,v=a-1)):(v=0,S=1),i==="prev"?this.getSlideItem(S).addClass("lg-next-slide"):this.getSlideItem(v).addClass("lg-prev-slide"),c.addClass("lg-current")}this.lGalleryOn?setTimeout(function(){n.loadContent(e,!0),n.settings.appendSubHtmlTo!==".lg-item"&&n.addHtml(e)},this.settings.speed+50+(t?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout(function(){n.lgBusy=!1,d.removeClass("lg-slide-progress"),n.LGel.trigger(te.afterSlide,{prevIndex:o,index:e,fromTouch:t,fromThumb:r})},(this.lGalleryOn?this.settings.speed+100:100)+(t?0:this.settings.slideDelay))}this.index=e}},s.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},s.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},s.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},s.prototype.touchMove=function(e,t,r){var i=t.pageX-e.pageX,n=t.pageY-e.pageY,o=!1;if(this.swipeDirection?o=!0:Math.abs(i)>15?(this.swipeDirection="horizontal",o=!0):Math.abs(n)>15&&(this.swipeDirection="vertical",o=!0),!!o){var a=this.getSlideItem(this.index);if(this.swipeDirection==="horizontal"){r==null||r.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(a,i,0);var c=a.get().offsetWidth,d=c*15/100,u=d-Math.abs(i*10/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-c+i-u,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),c+i+u,0)}else if(this.swipeDirection==="vertical"&&this.settings.swipeToClose){r==null||r.preventDefault(),this.$container.addClass("lg-dragging-vertical");var f=1-Math.abs(n)/window.innerHeight;this.$backdrop.css("opacity",f);var m=1-Math.abs(n)/(window.innerWidth*2);this.setTranslate(a,0,n,m,m),Math.abs(n)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},s.prototype.touchEnd=function(e,t,r){var i=this,n;this.settings.mode!=="lg-slide"&&this.outer.addClass("lg-slide"),setTimeout(function(){i.$container.removeClass("lg-dragging-vertical"),i.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var o=!0;if(i.swipeDirection==="horizontal"){n=e.pageX-t.pageX;var a=Math.abs(e.pageX-t.pageX);n<0&&a>i.settings.swipeThreshold?(i.goToNextSlide(!0),o=!1):n>0&&a>i.settings.swipeThreshold&&(i.goToPrevSlide(!0),o=!1)}else if(i.swipeDirection==="vertical")if(n=Math.abs(e.pageY-t.pageY),i.settings.closable&&i.settings.swipeToClose&&n>100){i.closeGallery();return}else i.$backdrop.css("opacity",1);if(i.outer.find(".lg-item").removeAttr("style"),o&&Math.abs(e.pageX-t.pageX)<5){var c=D(r.target);i.isPosterElement(c)&&i.LGel.trigger(te.posterClick)}i.swipeDirection=void 0}),setTimeout(function(){!i.outer.hasClass("lg-dragging")&&i.settings.mode!=="lg-slide"&&i.outer.removeClass("lg-slide")},this.settings.speed+100)},s.prototype.enableSwipe=function(){var e=this,t={},r={},i=!1,n=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(o){e.dragOrSwipeEnabled=!0;var a=e.getSlideItem(e.index);(D(o.target).hasClass("lg-item")||a.get().contains(o.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&o.touches.length===1&&(n=!0,e.touchAction="swipe",e.manageSwipeClass(),t={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(o){n&&e.touchAction==="swipe"&&o.touches.length===1&&(r={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e.touchMove(t,r,o),i=!0)}),this.$inner.on("touchend.lg",function(o){if(e.touchAction==="swipe"){if(i)i=!1,e.touchEnd(r,t,o);else if(n){var a=D(o.target);e.isPosterElement(a)&&e.LGel.trigger(te.posterClick)}e.touchAction=void 0,n=!1}}))},s.prototype.enableDrag=function(){var e=this,t={},r={},i=!1,n=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(o){e.dragOrSwipeEnabled=!0;var a=e.getSlideItem(e.index);(D(o.target).hasClass("lg-item")||a.get().contains(o.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&(o.preventDefault(),e.lgBusy||(e.manageSwipeClass(),t={pageX:o.pageX,pageY:o.pageY},i=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("lg-grab").addClass("lg-grabbing"),e.LGel.trigger(te.dragStart)))}),D(window).on("mousemove.lg.global"+this.lgId,function(o){i&&e.lgOpened&&(n=!0,r={pageX:o.pageX,pageY:o.pageY},e.touchMove(t,r),e.LGel.trigger(te.dragMove))}),D(window).on("mouseup.lg.global"+this.lgId,function(o){if(e.lgOpened){var a=D(o.target);n?(n=!1,e.touchEnd(r,t,o),e.LGel.trigger(te.dragEnd)):e.isPosterElement(a)&&e.LGel.trigger(te.posterClick),i&&(i=!1,e.outer.removeClass("lg-grabbing").addClass("lg-grab"))}}))},s.prototype.triggerPosterClick=function(){var e=this;this.$inner.on("click.lg",function(t){!e.dragOrSwipeEnabled&&e.isPosterElement(D(t.target))&&e.LGel.trigger(te.posterClick)})},s.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(this.index===0?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),t>-1&&this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},s.prototype.goToNextSlide=function(e){var t=this,r=this.settings.loop;e&&this.galleryItems.length<3&&(r=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(te.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):r?(this.index=0,this.LGel.trigger(te.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout(function(){t.outer.removeClass("lg-right-end")},400)))},s.prototype.goToPrevSlide=function(e){var t=this,r=this.settings.loop;e&&this.galleryItems.length<3&&(r=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(te.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):r?(this.index=this.galleryItems.length-1,this.LGel.trigger(te.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout(function(){t.outer.removeClass("lg-left-end")},400)))},s.prototype.keyPress=function(){var e=this;D(window).on("keydown.lg.global"+this.lgId,function(t){e.lgOpened&&e.settings.escKey===!0&&t.keyCode===27&&(t.preventDefault(),e.settings.allowMediaOverlap&&e.outer.hasClass("lg-can-toggle")&&e.outer.hasClass("lg-components-open")?e.outer.removeClass("lg-components-open"):e.closeGallery()),e.lgOpened&&e.galleryItems.length>1&&(t.keyCode===37&&(t.preventDefault(),e.goToPrevSlide()),t.keyCode===39&&(t.preventDefault(),e.goToNextSlide()))})},s.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){e.goToNextSlide()})},s.prototype.arrowDisable=function(e){if(!this.settings.loop&&this.settings.hideControlOnEnd){var t=this.getElementById("lg-prev"),r=this.getElementById("lg-next");e+1===this.galleryItems.length?r.attr("disabled","disabled").addClass("disabled"):r.removeAttr("disabled").removeClass("disabled"),e===0?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled")}},s.prototype.setTranslate=function(e,t,r,i,n){i===void 0&&(i=1),n===void 0&&(n=1),e.css("transform","translate3d("+t+"px, "+r+"px, 0px) scale3d("+i+", "+n+", 1)")},s.prototype.mousewheel=function(){var e=this,t=0;this.outer.on("wheel.lg",function(r){if(!(!r.deltaY||e.galleryItems.length<2)){r.preventDefault();var i=new Date().getTime();i-t<1e3||(t=i,r.deltaY>0?e.goToNextSlide():r.deltaY<0&&e.goToPrevSlide())}})},s.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")||e.hasClass("lg-img-rotate")},s.prototype.isPosterElement=function(e){var t=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||t&&t.contains(e.get())},s.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()})},s.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e],r=D(t);r.off("click.lgcustom-item-"+r.attr("data-lg-id"))}},s.prototype.trapFocus=function(){var e=this;this.$container.get().focus({preventScroll:!0}),D(window).on("keydown.lg.global"+this.lgId,function(t){if(e.lgOpened){var r=t.key==="Tab"||t.keyCode===9;if(r){var i=ae.getFocusableElements(e.$container.get()),n=i[0],o=i[i.length-1];t.shiftKey?document.activeElement===n&&(o.focus(),t.preventDefault()):document.activeElement===o&&(n.focus(),t.preventDefault())}}})},s.prototype.manageCloseGallery=function(){var e=this;if(this.settings.closable){var t=!1;this.getElementById("lg-close").on("click.lg",function(){e.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(r){var i=D(r.target);e.isSlideElement(i)?t=!0:t=!1}),this.outer.on("mousemove.lg",function(){t=!1}),this.outer.on("mouseup.lg",function(r){var i=D(r.target);e.isSlideElement(i)&&t&&(e.outer.hasClass("lg-dragging")||e.closeGallery())}))}},s.prototype.closeGallery=function(e){var t=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger(te.beforeClose),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&D(window).scrollTop(this.prevScrollTop);var r=this.items[this.index],i;if(this.zoomFromOrigin&&r){var n=this.mediaContainerPosition,o=n.top,a=n.bottom,c=this.galleryItems[this.index],d=c.__slideVideoInfo,u=c.poster,f=ae.getSize(r,this.outer,o+a,d&&u&&this.settings.videoMaxSize);i=ae.getTransform(r,this.outer,o,a,f)}this.zoomFromOrigin&&i?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",i)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,D("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var m=this.zoomFromOrigin&&i?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){t.zoomFromOrigin&&i&&t.outer.removeClass("lg-zoom-from-image"),t.$container.removeClass("lg-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.settings.backdropDuration+"ms"),t.outer.removeClass("lg-closing "+t.settings.startClass),t.getSlideItem(t.index).removeClass("lg-start-end-progress"),t.$inner.empty(),t.lgOpened&&t.LGel.trigger(te.afterClose,{instance:t}),t.$container.get()&&t.$container.get().blur(),t.lgOpened=!1},m+100),m+100},s.prototype.initModules=function(){this.plugins.forEach(function(e){try{e.init()}catch{console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},s.prototype.destroyModules=function(e){this.plugins.forEach(function(t){try{e?t.destroy():t.closeGallery&&t.closeGallery()}catch{console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},s.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),e?this.galleryItems=e:this.galleryItems=this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(te.updateSlides)},s.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},s.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),D(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},s.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},s}();function zh(s,e){return new Mh(s,e)}var re={onAfterAppendSlide:"lgAfterAppendSlide",onInit:"lgInit",onHasVideo:"lgHasVideo",onContainerResize:"lgContainerResize",onAfterAppendSubHtml:"lgAfterAppendSubHtml",onBeforeOpen:"lgBeforeOpen",onAfterOpen:"lgAfterOpen",onSlideItemLoad:"lgSlideItemLoad",onBeforeSlide:"lgBeforeSlide",onAfterSlide:"lgAfterSlide",onPosterClick:"lgPosterClick",onDragStart:"lgDragStart",onDragMove:"lgDragMove",onDragEnd:"lgDragEnd",onBeforeNextSlide:"lgBeforeNextSlide",onBeforePrevSlide:"lgBeforePrevSlide",onBeforeClose:"lgBeforeClose",onAfterClose:"lgAfterClose",onRotateLeft:"lgRotateLeft",onRotateRight:"lgRotateRight",onFlipHorizontal:"lgFlipHorizontal",onFlipVertical:"lgFlipVertical"},Ma=function(s){var e=s.children,t=s.elementClassNames,r=s.onAfterAppendSlide,i=s.onInit,n=s.onHasVideo,o=s.onContainerResize,a=s.onAfterAppendSubHtml,c=s.onBeforeOpen,d=s.onAfterOpen,u=s.onSlideItemLoad,f=s.onBeforeSlide,m=s.onAfterSlide,p=s.onPosterClick,w=s.onDragStart,b=s.onDragMove,v=s.onDragEnd,S=s.onBeforeNextSlide,x=s.onBeforePrevSlide,_=s.onBeforeClose,T=s.onAfterClose,N=s.onRotateLeft,M=s.onRotateRight,Z=s.onFlipHorizontal,H=s.onFlipVertical,E=Ph(s,["children","elementClassNames","onAfterAppendSlide","onInit","onHasVideo","onContainerResize","onAfterAppendSubHtml","onBeforeOpen","onAfterOpen","onSlideItemLoad","onBeforeSlide","onAfterSlide","onPosterClick","onDragStart","onDragMove","onDragEnd","onBeforeNextSlide","onBeforePrevSlide","onBeforeClose","onAfterClose","onRotateLeft","onRotateRight","onFlipHorizontal","onFlipVertical"]),y=h.useRef(null),A=h.useCallback(function(){r&&y&&y.current&&y.current.addEventListener(re.onAfterAppendSlide,function(I){r(I.detail)}),i&&y&&y.current&&y.current.addEventListener(re.onInit,function(I){i(I.detail)}),n&&y&&y.current&&y.current.addEventListener(re.onHasVideo,function(I){n(I.detail)}),o&&y&&y.current&&y.current.addEventListener(re.onContainerResize,function(I){o(I.detail)}),a&&y&&y.current&&y.current.addEventListener(re.onAfterAppendSubHtml,function(I){a(I.detail)}),c&&y&&y.current&&y.current.addEventListener(re.onBeforeOpen,function(I){c(I.detail)}),d&&y&&y.current&&y.current.addEventListener(re.onAfterOpen,function(I){d(I.detail)}),u&&y&&y.current&&y.current.addEventListener(re.onSlideItemLoad,function(I){u(I.detail)}),f&&y&&y.current&&y.current.addEventListener(re.onBeforeSlide,function(I){f(I.detail)}),m&&y&&y.current&&y.current.addEventListener(re.onAfterSlide,function(I){m(I.detail)}),p&&y&&y.current&&y.current.addEventListener(re.onPosterClick,function(I){p(I.detail)}),w&&y&&y.current&&y.current.addEventListener(re.onDragStart,function(I){w(I.detail)}),b&&y&&y.current&&y.current.addEventListener(re.onDragMove,function(I){b(I.detail)}),v&&y&&y.current&&y.current.addEventListener(re.onDragEnd,function(I){v(I.detail)}),S&&y&&y.current&&y.current.addEventListener(re.onBeforeNextSlide,function(I){S(I.detail)}),x&&y&&y.current&&y.current.addEventListener(re.onBeforePrevSlide,function(I){x(I.detail)}),_&&y&&y.current&&y.current.addEventListener(re.onBeforeClose,function(I){_(I.detail)}),T&&y&&y.current&&y.current.addEventListener(re.onAfterClose,function(I){T(I.detail)}),N&&y&&y.current&&y.current.addEventListener(re.onRotateLeft,function(I){N(I.detail)}),M&&y&&y.current&&y.current.addEventListener(re.onRotateRight,function(I){M(I.detail)}),Z&&y&&y.current&&y.current.addEventListener(re.onFlipHorizontal,function(I){Z(I.detail)}),H&&y&&y.current&&y.current.addEventListener(re.onFlipVertical,function(I){H(I.detail)})},[r,a,T,N,M,Z,H,d,m,_,S,c,x,f,o,v,b,w,n,i,p,u]);return h.useEffect(function(){A();var I=zh(y.current,E);return function(){I.destroy()}},[A,E]),h.createElement("div",{className:"lg-react-element "+(t||""),ref:y},e)};/*!
 * lightgallery | 2.9.0 | October 1st 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qs=function(){return qs=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},qs.apply(this,arguments)},Fh={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},vs={containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",beforeOpen:"lgBeforeOpen",beforeSlide:"lgBeforeSlide"},za=function(){function s(e,t){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=e,this.$LG=t,this}return s.prototype.init=function(){this.settings=qs(qs({},Fh),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},s.prototype.build=function(){var e=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",function(t){var r=e.$LG(t.target);r.hasAttribute("data-lg-item-id")&&setTimeout(function(){if(e.thumbClickable&&!e.core.lgBusy){var i=parseInt(r.attr("data-lg-item-id"));e.core.slide(i,!1,!0,!1)}},50)}),this.core.LGel.on(vs.beforeSlide+".thumb",function(t){var r=t.detail.index;e.animateThumb(r)}),this.core.LGel.on(vs.beforeOpen+".thumb",function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth}),this.core.LGel.on(vs.updateSlides+".thumb",function(){e.rebuildThumbnails()}),this.core.LGel.on(vs.containerResize+".thumb",function(){e.core.lgOpened&&setTimeout(function(){e.thumbOuterWidth=e.core.outer.get().offsetWidth,e.animateThumb(e.core.index),e.thumbOuterWidth=e.core.outer.get().offsetWidth},50)})},s.prototype.setThumbMarkup=function(){var e="lg-thumb-outer ";this.settings.alignThumbnails&&(e+="lg-thumb-align-"+this.settings.alignThumbnails);var t='<div class="'+e+`">
        <div class="lg-thumb lg-group">
        </div>
        </div>`;this.core.outer.addClass("lg-has-thumb"),this.settings.appendThumbnailsTo===".lg-components"?this.core.$lgComponents.append(t):this.core.outer.append(t),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},s.prototype.enableThumbDrag=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},r=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",function(i){e.thumbTotalWidth>e.thumbOuterWidth&&(i.preventDefault(),t.cords.startX=i.pageX,t.startTime=new Date,e.thumbClickable=!1,r=!0,e.core.outer.get().scrollLeft+=1,e.core.outer.get().scrollLeft-=1,e.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,function(i){e.core.lgOpened&&r&&(t.cords.endX=i.pageX,t=e.onThumbTouchMove(t))}),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,function(){e.core.lgOpened&&(t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0,r&&(r=!1,e.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")))})},s.prototype.enableThumbSwipe=function(){var e=this,t={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",function(r){e.thumbTotalWidth>e.thumbOuterWidth&&(r.preventDefault(),t.cords.startX=r.targetTouches[0].pageX,e.thumbClickable=!1,t.startTime=new Date)}),this.$lgThumb.on("touchmove.lg",function(r){e.thumbTotalWidth>e.thumbOuterWidth&&(r.preventDefault(),t.cords.endX=r.targetTouches[0].pageX,t=e.onThumbTouchMove(t))}),this.$lgThumb.on("touchend.lg",function(){t.isMoved?t=e.onThumbTouchEnd(t):e.thumbClickable=!0})},s.prototype.rebuildThumbnails=function(){var e=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout(function(){e.thumbTotalWidth=e.core.galleryItems.length*(e.settings.thumbWidth+e.settings.thumbMargin),e.$lgThumb.css("width",e.thumbTotalWidth+"px"),e.$lgThumb.empty(),e.setThumbItemHtml(e.core.galleryItems),e.animateThumb(e.core.index)},50),setTimeout(function(){e.$thumbOuter.removeClass("lg-rebuilding-thumbnails")},200)},s.prototype.setTranslate=function(e){this.$lgThumb.css("transform","translate3d(-"+e+"px, 0px, 0px)")},s.prototype.getPossibleTransformX=function(e){return e>this.thumbTotalWidth-this.thumbOuterWidth&&(e=this.thumbTotalWidth-this.thumbOuterWidth),e<0&&(e=0),e},s.prototype.animateThumb=function(e){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var t=0;switch(this.settings.currentPagerPosition){case"left":t=0;break;case"middle":t=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":t=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*e-1-t,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},s.prototype.onThumbTouchMove=function(e){return e.newTranslateX=this.translateX,e.isMoved=!0,e.touchMoveTime=new Date().valueOf(),e.newTranslateX-=e.cords.endX-e.cords.startX,e.newTranslateX=this.getPossibleTransformX(e.newTranslateX),this.setTranslate(e.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),e},s.prototype.onThumbTouchEnd=function(e){e.isMoved=!1,e.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var t=e.endTime.valueOf()-e.startTime.valueOf(),r=e.cords.endX-e.cords.startX,i=Math.abs(r)/t;return i>.15&&e.endTime.valueOf()-e.touchMoveTime<30?(i+=1,i>2&&(i+=1),i=i+i*(Math.abs(r)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(i-1,2)+"settings"),r=r*i,this.translateX=this.getPossibleTransformX(this.translateX-r),this.setTranslate(this.translateX)):this.translateX=e.newTranslateX,Math.abs(e.cords.endX-e.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),e},s.prototype.getThumbHtml=function(e,t,r){var i=this.core.galleryItems[t].__slideVideoInfo||{},n;i.youtube&&this.settings.loadYouTubeThumbnail?n="//img.youtube.com/vi/"+i.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":n=e;var o=document.createElement("div");o.setAttribute("data-lg-item-id",t+""),o.className="lg-thumb-item "+(t===this.core.index?"active":""),o.style.cssText="width: "+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+"; margin-right: "+this.settings.thumbMargin+"px;";var a=document.createElement("img");return a.alt=r||"",a.setAttribute("data-lg-item-id",t+""),a.src=n,o.appendChild(a),o},s.prototype.setThumbItemHtml=function(e){for(var t=0;t<e.length;t++){var r=this.getThumbHtml(e[t].thumb,t,e[t].alt);this.$lgThumb.append(r)}},s.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},s.prototype.manageActiveClassOnSlideChange=function(){var e=this;this.core.LGel.on(vs.beforeSlide+".thumb",function(t){var r=e.core.outer.find(".lg-thumb-item"),i=t.detail.index;r.removeClass("active"),r.eq(i).addClass("active")})},s.prototype.toggleThumbBar=function(){var e=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",function(){e.core.outer.toggleClass("lg-components-open")}))},s.prototype.thumbKeyPress=function(){var e=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,function(t){!e.core.lgOpened||!e.settings.toggleThumb||(t.keyCode===38?(t.preventDefault(),e.core.outer.addClass("lg-components-open")):t.keyCode===40&&(t.preventDefault(),e.core.outer.removeClass("lg-components-open")))})},s.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))},s}();/*!
 * lightgallery | 2.9.0 | October 1st 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ys=function(){return Ys=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ys.apply(this,arguments)},$h={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},Ze={containerResize:"lgContainerResize",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",afterSlide:"lgAfterSlide",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical"},mr=500,Fa=function(){function s(e,t){return this.core=e,this.$LG=t,this.settings=Ys(Ys({},$h),this.core.settings),this}return s.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomOut+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},s.prototype.enableZoom=function(e){var t=this,r=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?r=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){t.isImageSlide(t.core.index)&&(t.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===t.core.index&&t.setZoomEssentials())},r+30)},s.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(Ze.slideItemLoad+".zoom",this.enableZoom.bind(this))},s.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},s.prototype.getSwipeCords=function(e){var t=e.touches[0].pageX,r=e.touches[0].pageY;return{x:t,y:r}},s.prototype.getDragAllowedAxises=function(e,t){if(!this.containerRect)return{allowX:!1,allowY:!1};var r=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),i=0,n=0,o=r.getBoundingClientRect();e?(i=r.offsetHeight*e,n=r.offsetWidth*e):t?(i=o.height+t*o.height,n=o.width+t*o.width):(i=o.height,n=o.width);var a=i>this.containerRect.height,c=n>this.containerRect.width;return{allowX:c,allowY:a}},s.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},s.prototype.zoomImage=function(e,t,r,i){if(!(!this.containerRect||Math.abs(t)<=0)){var n=this.containerRect.width/2+this.containerRect.left,o=this.containerRect.height/2+this.containerRect.top+this.scrollTop,a,c;e===1&&(this.positionChanged=!1);var d=this.getDragAllowedAxises(0,t),u=d.allowY,f=d.allowX;this.positionChanged&&(a=this.left/(this.scale-t),c=this.top/(this.scale-t),this.pageX=n-a,this.pageY=o-c,this.positionChanged=!1);var m=this.getPossibleSwipeDragCords(t),p,w,b=n-this.pageX,v=o-this.pageY;if(e-t>1){var S=(e-t)/Math.abs(t);b=(t<0?-b:b)+this.left*(S+(t<0?-1:1)),v=(t<0?-v:v)+this.top*(S+(t<0?-1:1)),p=b/S,w=v/S}else{var S=(e-t)*t;p=b*S,w=v*S}r&&(f?this.isBeyondPossibleLeft(p,m.minX)?p=m.minX:this.isBeyondPossibleRight(p,m.maxX)&&(p=m.maxX):e>1&&(p<m.minX?p=m.minX:p>m.maxX&&(p=m.maxX)),u?this.isBeyondPossibleTop(w,m.minY)?w=m.minY:this.isBeyondPossibleBottom(w,m.maxY)&&(w=m.maxY):e>1&&(w<m.minY?w=m.minY:w>m.maxY&&(w=m.maxY))),this.setZoomStyles({x:p,y:w,scale:e}),this.left=p,this.top=w,i&&this.setZoomImageSize()}},s.prototype.resetImageTranslate=function(e){if(this.isImageSlide(e)){var t=this.core.getSlideItem(e).find(".lg-image").first();this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),t.css("width","auto").css("height","auto"),setTimeout(function(){t.removeClass("no-transition")},10)}},s.prototype.setZoomImageSize=function(){var e=this,t=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var r=e.getCurrentImageActualSizeScale();e.scale>=r&&(t.addClass("no-transition"),e.imageReset=!0)},mr),setTimeout(function(){var r=e.getCurrentImageActualSizeScale();if(e.scale>=r){var i=e.getDragAllowedAxises(e.scale);t.css("width",t.get().naturalWidth+"px").css("height",t.get().naturalHeight+"px"),e.core.outer.addClass("lg-actual-size"),i.allowX&&i.allowY?t.addClass("reset-transition"):i.allowX&&!i.allowY?t.addClass("reset-transition-x"):!i.allowX&&i.allowY&&t.addClass("reset-transition-y")}},mr+50)},s.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),r=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=e.scale,r.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var n="translate3d("+e.x+"px, "+e.y+"px, 0)";t.css("transform",n)},s.prototype.setActualSize=function(e,t){var r=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var i=this.core.galleryItems[this.core.index];this.resetImageTranslate(e),setTimeout(function(){if(!(!i.src||r.core.outer.hasClass("lg-first-slide-loading"))){var n=r.getCurrentImageActualSizeScale(),o=r.scale;r.core.outer.hasClass("lg-zoomed")?r.scale=1:r.scale=r.getScale(n),r.setPageCords(t),r.beginZoom(r.scale),r.zoomImage(r.scale,r.scale-o,!0,!0)}},50),setTimeout(function(){r.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){r.zoomInProgress=!1},mr+110)}},s.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),r=this.core.galleryItems[e].width;return r?parseFloat(r):t.get().naturalWidth},s.prototype.getActualSizeScale=function(e,t){var r,i;return e>=t?(r=e/t,i=r||2):i=1,i},s.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first(),t=e.get().offsetWidth,r=this.getNaturalWidth(this.core.index)||t;return this.getActualSizeScale(r,t)},s.prototype.getPageCords=function(e){var t={};if(e)t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY;else{var r=this.core.$content.get().getBoundingClientRect();t.x=r.width/2+r.left,t.y=r.height/2+this.scrollTop+r.top}return t},s.prototype.setPageCords=function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y},s.prototype.manageActualPixelClassNames=function(){var e=this.core.getElementById("lg-actual-size");e.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},s.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1},s.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e},s.prototype.init=function(){var e=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.core.outer.on("dblclick.lg",function(r){e.$LG(r.target).hasClass("lg-image")&&e.setActualSize(e.core.index,r)}),this.core.outer.on("touchstart.lg",function(r){var i=e.$LG(r.target);r.touches.length===1&&i.hasClass("lg-image")&&(t?(clearTimeout(t),t=null,r.preventDefault(),e.setActualSize(e.core.index,r)):t=setTimeout(function(){t=null},300))}),this.core.LGel.on(Ze.containerResize+".zoom "+Ze.rotateRight+".zoom "+Ze.rotateLeft+".zoom "+Ze.flipHorizontal+".zoom "+Ze.flipVertical+".zoom",function(){if(!(!e.core.lgOpened||!e.isImageSlide(e.core.index)||e.core.touchAction)){var r=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(r,{x:0,y:0}),e.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){e.core.lgOpened&&(e.scrollTop=e.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(e.isImageSlide(e.core.index)){var r=0;e.imageReset&&(e.resetImageTranslate(e.core.index),r=50),setTimeout(function(){var i=e.scale-e.settings.scale;i<1&&(i=1),e.beginZoom(i),e.zoomImage(i,-e.settings.scale,!0,!e.settings.infiniteZoom)},r)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){e.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){e.setActualSize(e.core.index)}),this.core.LGel.on(Ze.beforeOpen+".zoom",function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(Ze.afterOpen+".zoom",function(){e.scrollTop=e.$LG(window).scrollTop(),e.pageX=e.core.outer.width()/2,e.pageY=e.core.outer.height()/2+e.scrollTop,e.scale=1}),this.core.LGel.on(Ze.afterSlide+".zoom",function(r){var i=r.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.zoomInProgress=!1,e.resetZoom(i),e.resetImageTranslate(i),e.isImageSlide(e.core.index)&&e.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},s.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var e=this.scale+this.settings.scale;this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom)}},s.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),r=this.core.getSlideItem(e!==void 0?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),r.find(".lg-img-wrap").first().removeAttr("style"),r.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},s.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},s.prototype.pinchZoom=function(){var e=this,t=0,r=!1,i=1,n=0,o=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(a){if(o=e.core.getSlideItem(e.core.index),!!e.isImageSlide(e.core.index)&&a.touches.length===2){if(a.preventDefault(),e.core.outer.hasClass("lg-first-slide-loading"))return;i=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.setPageCords(a),e.resetImageTranslate(e.core.index),e.core.touchAction="pinch",t=e.getTouchDistance(a)}}),this.core.$inner.on("touchmove.lg",function(a){if(a.touches.length===2&&e.core.touchAction==="pinch"&&(e.$LG(a.target).hasClass("lg-item")||o.get().contains(a.target))){a.preventDefault();var c=e.getTouchDistance(a),d=t-c;if(!r&&Math.abs(d)>5&&(r=!0),r){n=e.scale;var u=Math.max(1,i+-d*.02);e.scale=Math.round((u+Number.EPSILON)*100)/100;var f=e.scale-n;e.zoomImage(e.scale,Math.round((f+Number.EPSILON)*100)/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(a){if(e.core.touchAction==="pinch"&&(e.$LG(a.target).hasClass("lg-item")||o.get().contains(a.target))){if(r=!1,t=0,e.scale<=1)e.resetZoom();else{var c=e.getCurrentImageActualSizeScale();if(e.scale>=c){var d=c-e.scale;d===0&&(d=.01),e.zoomImage(c,d,!1,!0)}e.manageActualPixelClassNames(),e.core.outer.addClass("lg-zoomed")}e.core.touchAction=void 0}})},s.prototype.touchendZoom=function(e,t,r,i,n){var o=t.x-e.x,a=t.y-e.y,c=Math.abs(o)/n+1,d=Math.abs(a)/n+1;c>2&&(c+=1),d>2&&(d+=1),o=o*c,a=a*d;var u=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),f={};f.x=this.left+o,f.y=this.top+a;var m=this.getPossibleSwipeDragCords();(Math.abs(o)>15||Math.abs(a)>15)&&(i&&(this.isBeyondPossibleTop(f.y,m.minY)?f.y=m.minY:this.isBeyondPossibleBottom(f.y,m.maxY)&&(f.y=m.maxY)),r&&(this.isBeyondPossibleLeft(f.x,m.minX)?f.x=m.minX:this.isBeyondPossibleRight(f.x,m.maxX)&&(f.x=m.maxX)),i?this.top=f.y:f.y=this.top,r?this.left=f.x:f.x=this.left,this.setZoomSwipeStyles(u,f),this.positionChanged=!0)},s.prototype.getZoomSwipeCords=function(e,t,r,i,n){var o={};if(i){if(o.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(o.y,n.minY)){var a=n.minY-o.y;o.y=n.minY-a/6}else if(this.isBeyondPossibleBottom(o.y,n.maxY)){var c=o.y-n.maxY;o.y=n.maxY+c/6}}else o.y=this.top;if(r){if(o.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(o.x,n.minX)){var d=n.minX-o.x;o.x=n.minX-d/6}else if(this.isBeyondPossibleRight(o.x,n.maxX)){var u=o.x-n.maxX;o.x=n.maxX+u/6}}else o.x=this.left;return o},s.prototype.isBeyondPossibleLeft=function(e,t){return e>=t},s.prototype.isBeyondPossibleRight=function(e,t){return e<=t},s.prototype.isBeyondPossibleTop=function(e,t){return e>=t},s.prototype.isBeyondPossibleBottom=function(e,t){return e<=t},s.prototype.isImageSlide=function(e){var t=this.core.galleryItems[e];return this.core.getSlideType(t)==="image"},s.prototype.getPossibleSwipeDragCords=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),r=this.core.mediaContainerPosition.bottom,i=t.get().getBoundingClientRect(),n=i.height,o=i.width;e&&(n=n+e*n,o=o+e*o);var a=(n-this.containerRect.height)/2,c=(this.containerRect.height-n)/2+r,d=(o-this.containerRect.width)/2,u=(this.containerRect.width-o)/2,f={minY:a,maxY:c,minX:d,maxX:u};return f},s.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},s.prototype.zoomSwipe=function(){var e=this,t={},r={},i=!1,n=!1,o=!1,a=new Date,c=new Date,d,u,f=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(m){if(e.isImageSlide(e.core.index)&&(f=e.core.getSlideItem(e.core.index),(e.$LG(m.target).hasClass("lg-item")||f.get().contains(m.target))&&m.touches.length===1&&e.core.outer.hasClass("lg-zoomed"))){m.preventDefault(),a=new Date,e.core.touchAction="zoomSwipe",u=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var p=e.getDragAllowedAxises(0);o=p.allowY,n=p.allowX,(n||o)&&(t=e.getSwipeCords(m)),d=e.getPossibleSwipeDragCords(),e.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(m){if(m.touches.length===1&&e.core.touchAction==="zoomSwipe"&&(e.$LG(m.target).hasClass("lg-item")||f.get().contains(m.target))){m.preventDefault(),e.core.touchAction="zoomSwipe",r=e.getSwipeCords(m);var p=e.getZoomSwipeCords(t,r,n,o,d);(Math.abs(r.x-t.x)>15||Math.abs(r.y-t.y)>15)&&(i=!0,e.setZoomSwipeStyles(u,p))}}),this.core.$inner.on("touchend.lg",function(m){if(e.core.touchAction==="zoomSwipe"&&(e.$LG(m.target).hasClass("lg-item")||f.get().contains(m.target))){if(m.preventDefault(),e.core.touchAction=void 0,e.core.outer.removeClass("lg-zoom-dragging"),!i)return;i=!1,c=new Date;var p=c.valueOf()-a.valueOf();e.touchendZoom(t,r,n,o,p)}})},s.prototype.zoomDrag=function(){var e=this,t={},r={},i=!1,n=!1,o=!1,a=!1,c,d,u,f;this.core.outer.on("mousedown.lg.zoom",function(m){if(e.isImageSlide(e.core.index)){var p=e.core.getSlideItem(e.core.index);if(e.$LG(m.target).hasClass("lg-item")||p.get().contains(m.target)){c=new Date,f=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var w=e.getDragAllowedAxises(0);a=w.allowY,o=w.allowX,e.core.outer.hasClass("lg-zoomed")&&e.$LG(m.target).hasClass("lg-object")&&(o||a)&&(m.preventDefault(),t=e.getDragCords(m),u=e.getPossibleSwipeDragCords(),i=!0,e.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(m){if(i){n=!0,r=e.getDragCords(m);var p=e.getZoomSwipeCords(t,r,o,a,u);e.setZoomSwipeStyles(f,p)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(m){if(i){if(d=new Date,i=!1,e.core.outer.removeClass("lg-zoom-dragging"),n&&(t.x!==r.x||t.y!==r.y)){r=e.getDragCords(m);var p=d.valueOf()-c.valueOf();e.touchendZoom(t,r,o,a,p)}n=!1}e.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},s.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},s.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},s}();function Bh(){var hi;const{toast:s}=vo(),[e,t]=h.useState(""),[r,i]=h.useState({open:!1}),[n,o]=h.useState({open:!1}),[a,c]=h.useState({open:!1}),[d,u]=h.useState(!1),[f,m]=h.useState({open:!1}),[p,w]=h.useState({open:!1}),[b,v]=h.useState(!1),[S,x]=h.useState({open:!1}),[_,T]=h.useState({open:!1}),[N,M]=h.useState(!1),[Z,H]=h.useState([]),[E,y]=h.useState(0),{data:A=[],isLoading:I}=xt({queryKey:["/api/pages"]}),{data:ne=[],isLoading:z}=xt({queryKey:["/api/pages",e,"rows"],queryFn:async()=>{if(!e)return[];const C=await fetch(`/api/pages/${e}/rows`);if(!C.ok)throw new Error("Failed to fetch rows");return C.json()},enabled:!!e}),{data:ce=[]}=xt({queryKey:["/api/images",e],queryFn:async()=>{const C=ne.map(Se=>fetch(`/api/rows/${Se.id}/images`).then(Ke=>Ke.json()));return(await Promise.all(C)).flat()},enabled:ne.length>0}),ue=ne.map(C=>({...C,images:ce.filter(W=>W.rowId===C.id)}));h.useEffect(()=>{!e&&A.length>0&&!I&&t(A[0].id)},[e,A,I]);const De=Me({mutationFn:async C=>await Re("/api/pages","POST",{name:C}),onSuccess:C=>{he.invalidateQueries({queryKey:["/api/pages"]}),t(C.id),s({title:"Page created successfully"})}}),je=Me({mutationFn:async({pageId:C,name:W})=>await Re(`/api/pages/${C}`,"PATCH",{name:W}),onSuccess:()=>{he.invalidateQueries({queryKey:["/api/pages"]}),s({title:"Page renamed successfully"})}}),Ce=Me({mutationFn:async C=>Re(`/api/pages/${C}`,"DELETE"),onSuccess:(C,W)=>{he.invalidateQueries({queryKey:["/api/pages"]}),e===W&&(he.invalidateQueries({queryKey:["/api/pages",W,"rows"]}),he.invalidateQueries({queryKey:["/api/images",W]})),s({title:"Page deleted successfully"})}}),Ft=Me({mutationFn:async C=>Re("/api/rows","POST",{pageId:e,title:C}),onSuccess:()=>{he.invalidateQueries({queryKey:["/api/pages",e,"rows"]}),s({title:"Row created successfully"})}}),ye=Me({mutationFn:async({id:C,title:W})=>Re(`/api/rows/${C}`,"PATCH",{title:W}),onSuccess:()=>{he.invalidateQueries({queryKey:["/api/pages",e,"rows"]}),s({title:"Row updated successfully"})}}),fs=Me({mutationFn:async C=>Re(`/api/rows/${C}`,"DELETE"),onSuccess:()=>{he.invalidateQueries({queryKey:["/api/pages",e,"rows"]}),he.invalidateQueries({queryKey:["/api/images",e]}),s({title:"Row deleted successfully"})}}),yt=Me({mutationFn:async C=>(console.log("Creating image with data:",C),Re("/api/images","POST",{rowId:C.rowId,url:C.url,title:C.title,subtitle:C.subtitle||null})),onSuccess:C=>{console.log("Image created successfully:",C),he.invalidateQueries({queryKey:["/api/pages"]}),he.invalidateQueries({queryKey:["/api/images"]}),he.invalidateQueries({queryKey:["/api/rows"]}),i({open:!1}),s({title:" Image added successfully",variant:"default"})},onError:C=>{console.error("Failed to create image:",C),s({title:" Failed to add image",description:(C==null?void 0:C.message)||"Please try again",variant:"destructive"})}}),Ps=Me({mutationFn:async C=>Re(`/api/images/${C.id}`,"PATCH",{url:C.url,title:C.title,subtitle:C.subtitle||null}),onSuccess:()=>{he.invalidateQueries({queryKey:["/api/images",e]}),s({title:"Image updated successfully"})}}),$a=Me({mutationFn:async C=>Re(`/api/images/${C}`,"DELETE"),onSuccess:()=>{he.invalidateQueries({queryKey:["/api/images",e]}),s({title:"Image deleted successfully"})}}),Ba=(C,W)=>{if(console.log("handleAddImage called with:",{rowId:C,data:W}),!C){s({title:" Error",description:"No row selected",variant:"destructive"});return}yt.mutate({rowId:C,...W})},Ha=(C,W)=>{Ps.mutate({id:C,...W})},Ga=C=>{$a.mutate(C)},Va=C=>{Ft.mutate(C)},Za=(C,W)=>{ye.mutate({id:C,title:W})},Ua=C=>{fs.mutate(C)},Wa=C=>{De.mutate(C)},Xa=C=>{S.pageId&&je.mutate({pageId:S.pageId,name:C})},qa=C=>{if(A.length===1){s({title:"Cannot delete the last page",variant:"destructive"});return}if(e===C){const W=A.find(Se=>Se.id!==C);W&&t(W.id)}Ce.mutate(C)},Ya=Me({mutationFn:async C=>await Re(`/api/share-links/${C}`,"POST"),onSuccess:async C=>{const Se=`${window.location.origin}/preview/${C.shortCode}`,tl=await(async ms=>{if(console.log(" REAL COPY attempt for:",ms),navigator.clipboard&&window.isSecureContext)for(let Y=1;Y<=3;Y++)try{return await navigator.clipboard.writeText(ms),console.log(` Modern clipboard SUCCESS on attempt ${Y}`),!0}catch(be){console.log(` Modern clipboard failed attempt ${Y}:`,be),Y<3&&await new Promise(ir=>setTimeout(ir,100))}for(let Y=1;Y<=2;Y++)try{const be=document.createElement("textarea");be.value=ms,be.style.position="fixed",be.style.left="-1000px",be.style.top="-1000px",document.body.appendChild(be),be.focus(),be.select(),be.setSelectionRange(0,ms.length);const ir=document.execCommand("copy");if(document.body.removeChild(be),ir)return console.log(` execCommand SUCCESS on attempt ${Y}`),!0;console.log(` execCommand failed attempt ${Y}`)}catch(be){console.log(` execCommand error attempt ${Y}:`,be)}try{const Y=document.createElement("input");return Y.type="text",Y.value=ms,Y.style.position="fixed",Y.style.left="50%",Y.style.top="50%",Y.style.transform="translate(-50%, -50%)",Y.style.zIndex="999999",Y.style.padding="10px",Y.style.fontSize="14px",Y.style.border="2px solid #007acc",Y.style.borderRadius="8px",Y.style.background="white",Y.style.color="black",Y.style.width="400px",document.body.appendChild(Y),Y.focus(),Y.select(),alert("Link is selected below. Press Ctrl+C (or Cmd+C on Mac) to copy, then press OK."),document.body.removeChild(Y),console.log(" Manual copy assistance provided"),!0}catch(Y){return console.log(" Manual copy failed:",Y),!1}})(Se);s(tl?{title:" Link copied!",description:"Share link has been copied to clipboard",variant:"default"}:{title:" Share Link Created",description:Se,variant:"default",duration:1e4})},onError:C=>{console.error("Share link error:",C),s({title:" Failed to create share link",description:"Sila cuba lagi",variant:"destructive"})}}),Qa=C=>{console.log("Copy link clicked for pageId:",C),Ya.mutate(C)},Ka=async C=>{try{console.log(" Opening preview for pageId:",C);const W=await Re(`/api/share-links/${C}`,"POST");console.log(" Share link created:",W);const Ke=`${window.location.origin}/preview/${W.shortCode}`;console.log(" Opening URL:",Ke),window.open(Ke,"_blank")}catch(W){console.error(" Preview error:",W),s({title:"Failed to open preview",description:W instanceof Error?W.message:"Please try again",variant:"destructive"})}},Ja=(C,W)=>{const Se=C.map(Ke=>({src:Ke.url,thumb:Ke.url}));H(Se),y(W),M(!0)},el=n.imageId?ce.find(C=>C.id===n.imageId):void 0,rr=f.rowId?ne.find(C=>C.id===f.rowId):void 0;return I?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading gallery..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-black dark:to-gray-900",children:[l.jsx("header",{className:"sticky top-0 z-50 glass-header",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-8 h-16 flex items-center justify-between",children:[l.jsx("h1",{className:"title-text font-bold","data-testid":"text-app-title",children:"Gallery Manager"}),l.jsx(ra,{})]})}),l.jsx($u,{pages:A,activePage:e,onPageChange:t,onAddPage:()=>v(!0),onEditPage:C=>x({open:!0,pageId:C}),onDeletePage:C=>T({open:!0,pageId:C}),onCopyLink:Qa,onOpenPreview:Ka}),l.jsx("main",{className:"max-w-7xl mx-auto",children:z?l.jsxs("div",{className:"py-24 text-center",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading rows..."})]}):ue.length===0?l.jsxs("div",{className:"py-24 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-muted mx-auto mb-4 flex items-center justify-center",children:l.jsx(Ls,{className:"w-8 h-8 text-muted-foreground"})}),l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No rows yet"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first row to start adding images"}),l.jsxs(J,{onClick:()=>u(!0),"data-testid":"button-create-first-row",children:[l.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Create Row"]})]}):l.jsxs(l.Fragment,{children:[ue.map(C=>l.jsx(wa,{title:C.title,images:C.images,onImageClick:(W,Se)=>Ja(C.images,Se),onEditRow:()=>m({open:!0,rowId:C.id}),onDeleteRow:()=>w({open:!0,rowId:C.id}),onAddImage:()=>i({open:!0,rowId:C.id}),onEditImage:W=>o({open:!0,rowId:C.id,imageId:W}),onDeleteImage:W=>c({open:!0,rowId:C.id,imageId:W})},C.id)),l.jsx("div",{className:"py-8 px-8",children:l.jsxs(J,{onClick:()=>u(!0),variant:"outline",className:"w-full","data-testid":"button-add-row",children:[l.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Add New Row"]})})]})}),N&&l.jsx("div",{className:"fixed inset-0 z-[100]",children:l.jsx(Ma,{dynamic:!0,dynamicEl:Z,index:E,plugins:[za,Fa],onAfterClose:()=>M(!1),speed:300,mode:"lg-fade"})}),l.jsx(Ch,{open:r.open,onOpenChange:C=>i({open:C,rowId:C?r.rowId:void 0}),onSubmit:C=>r.rowId&&Ba(r.rowId,C),isLoading:yt.isPending}),l.jsx(Th,{open:n.open,onOpenChange:C=>o({open:C}),onSubmit:C=>n.imageId&&Ha(n.imageId,C),initialData:el}),l.jsx(fr,{open:a.open,onOpenChange:C=>c({open:C}),onConfirm:()=>{a.imageId&&(Ga(a.imageId),c({open:!1}))},title:"Delete Image?",description:"This action cannot be undone. This will permanently delete the image from the gallery."}),l.jsx(Eh,{open:d,onOpenChange:u,onSubmit:Va}),l.jsx(kh,{open:f.open,onOpenChange:C=>m({open:C}),onSubmit:C=>{f.rowId&&Za(f.rowId,C)},initialTitle:rr==null?void 0:rr.title}),l.jsx(fr,{open:p.open,onOpenChange:C=>w({open:C}),onConfirm:()=>{p.rowId&&(Ua(p.rowId),w({open:!1}))},title:"Delete Row?",description:"This will permanently delete the row and all its images. This action cannot be undone."}),l.jsx(jh,{open:b,onOpenChange:v,onSubmit:Wa}),l.jsx(Rh,{open:S.open,onOpenChange:C=>x({...S,open:C}),onSubmit:Xa,currentName:((hi=A.find(C=>C.id===S.pageId))==null?void 0:hi.name)||""}),l.jsx(fr,{open:_.open,onOpenChange:C=>T({open:C}),onConfirm:()=>{_.pageId&&(qa(_.pageId),T({open:!1}))},title:"Delete Page?",description:"This will permanently delete the page and all its rows and images. This action cannot be undone."})]})}function Hh(){const[,s]=dc("/preview/:shortCode"),e=(s==null?void 0:s.shortCode)||"";console.log(" Preview page loaded with shortCode:",e);const[t,r]=h.useState(!1),[i,n]=h.useState([]),[o,a]=h.useState(0),{data:c,isLoading:d,error:u}=xt({queryKey:["/api/share-links",e],queryFn:async()=>{console.log(" Fetching share link for:",e);const x=await fetch(`/api/share-links/${e}`);if(!x.ok)throw console.error(" Share link fetch failed:",x.status),new Error("Share link not found");const _=await x.json();return console.log(" Share link data:",_),_},enabled:!!e}),{data:f,isLoading:m}=xt({queryKey:["/api/pages",c==null?void 0:c.pageId],queryFn:async()=>{if(!(c!=null&&c.pageId))throw new Error("No page ID");const x=await fetch(`/api/pages/${c.pageId}`);if(!x.ok)throw new Error("Failed to fetch page");return x.json()},enabled:!!(c!=null&&c.pageId)}),{data:p=[],isLoading:w}=xt({queryKey:["/api/pages",c==null?void 0:c.pageId,"rows"],queryFn:async()=>{if(!(c!=null&&c.pageId))return[];const x=await fetch(`/api/pages/${c.pageId}/rows`);if(!x.ok)throw new Error("Failed to fetch rows");return x.json()},enabled:!!(c!=null&&c.pageId)}),{data:b=[]}=xt({queryKey:["/api/images",c==null?void 0:c.pageId],queryFn:async()=>{const x=p.map(T=>fetch(`/api/rows/${T.id}/images`).then(N=>N.json()));return(await Promise.all(x)).flat()},enabled:p.length>0}),v=p.map(x=>({...x,images:b.filter(_=>_.rowId===x.id)})),S=(x,_)=>{const T=x.map(N=>({src:N.url,thumb:N.url}));n(T),a(_),r(!0)};return d||m||w?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx("div",{className:"text-muted-foreground",children:"Loading preview..."})}):u||!c||!f?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Preview Not Found"}),l.jsx("p",{className:"text-muted-foreground",children:"This preview link is invalid or has expired."})]})}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b sticky top-0 z-50 glass-header",children:l.jsx("div",{className:"max-w-7xl mx-auto px-8 py-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"preview-title-text font-bold","data-testid":"text-preview-title",children:f.name}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Read-only preview"})]}),l.jsx(ra,{})]})})}),l.jsx("main",{className:"max-w-7xl mx-auto px-8 py-8",children:v.length===0?l.jsx("div",{className:"text-center py-16 text-muted-foreground",children:"No content to display"}):l.jsx("div",{className:"space-y-12",children:v.map(x=>l.jsx(wa,{title:x.title,images:x.images,onImageClick:(_,T)=>S(x.images,T),isPreviewMode:!0,"data-testid":`row-preview-${x.id}`},x.id))})}),t&&l.jsx(Ma,{dynamic:!0,dynamicEl:i,index:o,plugins:[za,Fa],onAfterClose:()=>r(!1)})]})}function Gh(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(Gs,{className:"w-full max-w-md mx-4",children:l.jsxs(xa,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(Ll,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Vh(){return l.jsxs(fc,{children:[l.jsx(ar,{path:"/",component:Bh}),l.jsx(ar,{path:"/preview/:shortCode",component:Hh}),l.jsx(ar,{component:Gh})]})}function Zh(){return l.jsx(Mc,{client:he,children:l.jsxs(xu,{children:[l.jsx(eu,{}),l.jsx(Vh,{})]})})}Zn(document.getElementById("root")).render(l.jsx(Zh,{}));
